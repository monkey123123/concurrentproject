2020-09-15 10:20:01 5954 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 10:20:01 5956 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@be6d228
2020-09-15 10:20:06 10635 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 10:20:07 11233 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 10:20:07 11254 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 10:20:09 13384 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 10:20:12 16603 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 10:20:12 16608 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 10:20:13 17447 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x344afbbc, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 10:20:15 19510 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19529 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19540 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19560 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19566 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19567 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19568 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19569 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19570 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19572 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19573 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19574 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19575 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19577 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19578 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19579 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19580 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19581 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:15 19585 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:20:15 19586 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:20:15 19586 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:20:42 46465 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] New http connection, requesting read
2020-09-15 10:20:42 46466 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0xd74e90fa, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60644] New http connection, requesting read
2020-09-15 10:20:42 46467 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:20:42 46467 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xd74e90fa, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60644] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:20:42 46493 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Increasing pending responses, now 1
2020-09-15 10:20:42 46497 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@72410f3d
2020-09-15 10:20:42 46563 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [c882b9b4-1] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-15 10:20:42 46564 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [c882b9b4-1] Resource not found
2020-09-15 10:20:42 46640 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Decreasing pending responses, now 0
2020-09-15 10:20:42 46642 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Last HTTP packet was sent, terminating the channel
2020-09-15 10:20:42 46644 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Last HTTP response frame
2020-09-15 10:20:47 52137 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Increasing pending responses, now 1
2020-09-15 10:20:47 52137 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@72410f3d
2020-09-15 10:20:47 52144 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [c882b9b4-2] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-15 10:20:48 52146 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [c882b9b4-2] Resource not found
2020-09-15 10:20:48 52150 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Decreasing pending responses, now 0
2020-09-15 10:20:48 52150 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Last HTTP packet was sent, terminating the channel
2020-09-15 10:20:48 52151 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc882b9b4, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:60643] Last HTTP response frame
2020-09-15 10:28:12 6309 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 10:28:12 6310 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@30517a57
2020-09-15 10:28:17 11031 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 10:28:17 11659 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 10:28:17 11673 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 10:28:20 14054 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 10:28:23 17749 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 10:28:23 17752 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 10:28:24 18579 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xa8dd2499, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 10:28:26 20678 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20698 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20707 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20727 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20730 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20733 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20734 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20736 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20737 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20738 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20739 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20740 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20741 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20742 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20743 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20743 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20744 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20745 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:28:26 20750 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:28:26 20751 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:28:26 20751 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:48:35 5770 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 10:48:35 5770 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@76af34b5
2020-09-15 10:50:40 6047 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 10:50:40 6047 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@68fc9167
2020-09-15 10:50:44 10726 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 10:50:45 11285 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 10:50:45 11303 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 10:50:47 13432 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 10:50:50 16543 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 10:50:50 16548 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 10:50:51 17491 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x02b3b302, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 10:50:53 19594 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19619 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19629 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19648 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19650 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19654 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19655 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19657 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19657 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19658 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19659 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19661 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19661 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19662 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19663 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19664 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19665 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19665 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:50:53 19669 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:50:53 19670 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:50:53 19670 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:51:21 47056 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x90e21950, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:55441] New http connection, requesting read
2020-09-15 10:51:21 47057 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x90e21950, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:55441] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:52:01 87929 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] New http connection, requesting read
2020-09-15 10:52:01 87929 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:52:01 87941 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Increasing pending responses, now 1
2020-09-15 10:52:01 87945 [reactor-http-nio-3] DEBUG r.netty.http.server.HttpServer - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@78d951c9
2020-09-15 10:52:02 88011 [reactor-http-nio-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 10:52:02 88015 [reactor-http-nio-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@455c3299, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 10:52:02 88015 [reactor-http-nio-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [23eefd9f-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2e781638
2020-09-15 10:52:02 88016 [reactor-http-nio-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@67c2b55d}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d18029}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@3a9c92b5}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@31c5304f}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1cee3e05}, order = 0], me.monkey.gateway.filter.AuthFilter@455c3299, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5db04bd2}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@4cded2cd}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@43df1377}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@12e40e98}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6f921e32}, order = 2147483647]]
2020-09-15 10:52:03 89545 [reactor-http-nio-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:52:03 89546 [reactor-http-nio-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:52:03 89546 [reactor-http-nio-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:52:03 89599 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 10:52:03 89619 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 10:52:03 89623 [reactor-http-nio-4] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x825e5de9] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:52:03 89631 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 10:52:03 89631 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 10:52:03 89631 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 10:52:03 89634 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 10:52:03 89635 [reactor-http-nio-4] DEBUG r.n.http.client.HttpClientConnect - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 10:52:03 89636 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 10:52:03 89650 [reactor-http-nio-4] DEBUG reactor.netty.channel.FluxReceive - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 10:52:03 89651 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 10:52:04 90232 [reactor-http-nio-4] DEBUG r.n.h.client.HttpClientOperations - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 02:52:04 GMT]
2020-09-15 10:52:04 90232 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 10:52:04 90250 [reactor-http-nio-4] DEBUG reactor.netty.channel.FluxReceive - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 10:52:04 90254 [reactor-http-nio-4] DEBUG r.n.h.client.HttpClientOperations - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 10:52:04 90261 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 10:52:04 90263 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 10:52:04 90263 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 10:52:04 90266 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 10:52:04 90271 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Last HTTP response frame
2020-09-15 10:52:04 90271 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Decreasing pending responses, now 0
2020-09-15 10:52:04 90272 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x23eefd9f, L:/127.0.0.1:8191 - R:/127.0.0.1:55718] Last HTTP packet was sent, terminating the channel
2020-09-15 10:53:04 150272 [reactor-http-nio-4] DEBUG r.n.r.PooledConnectionProvider - [id: 0x825e5de9, L:/192.168.50.124:55725 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x825e5de9, L:/192.168.50.124:55725 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 10:56:26 6554 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 10:56:26 6554 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@ce561cc
2020-09-15 10:56:32 11933 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 10:56:32 12643 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 10:56:32 12659 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 10:56:35 14975 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 10:56:38 18544 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 10:56:38 18547 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 10:56:39 19551 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xfcdd781d, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 10:56:41 21694 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21713 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21722 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21745 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21749 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21751 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21753 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21756 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21757 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21759 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21760 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21761 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21762 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21763 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21763 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21766 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21767 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21767 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:56:41 21769 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:56:41 21769 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:56:41 21770 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:57:59 99734 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] New http connection, requesting read
2020-09-15 10:57:59 99735 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:57:59 99771 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Increasing pending responses, now 1
2020-09-15 10:57:59 99776 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@a775273
2020-09-15 10:57:59 99843 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 10:57:59 99846 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3fa22d1d, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 10:57:59 99847 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [445e558f-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@33e0e66
2020-09-15 10:57:59 99847 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@cb1c58c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@59014efe}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7fa85a55}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2de7fe0e}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@684a802a}, order = 0], me.monkey.gateway.filter.AuthFilter@3fa22d1d, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@352e4b6d}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7be859de}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ff8d39b}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@40fcaae7}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@10a064bd}, order = 2147483647]]
2020-09-15 10:58:01 101581 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 10:58:01 101582 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 10:58:01 101583 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 10:58:01 101650 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 10:58:01 101688 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 10:58:01 101692 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x6ec572b3] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 10:58:01 101704 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 10:58:01 101704 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 10:58:01 101705 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 10:58:01 101708 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 10:58:01 101709 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 10:58:01 101710 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 10:58:01 101730 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 10:58:01 101731 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 10:58:03 103013 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 02:58:03 GMT]
2020-09-15 10:58:03 103013 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 10:58:03 103031 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 10:58:03 103034 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 10:58:03 103042 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 10:58:03 103042 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 10:58:03 103043 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 10:58:03 103045 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 10:58:03 103052 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Last HTTP response frame
2020-09-15 10:58:03 103053 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Decreasing pending responses, now 0
2020-09-15 10:58:03 103053 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x445e558f, L:/127.0.0.1:8191 - R:/127.0.0.1:58092] Last HTTP packet was sent, terminating the channel
2020-09-15 10:59:03 163043 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6ec572b3, L:/192.168.50.124:58103 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x6ec572b3, L:/192.168.50.124:58103 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 11:03:27 6455 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 11:03:27 6456 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1857fe6c
2020-09-15 11:03:31 10907 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 11:03:32 11450 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 11:03:32 11467 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 11:03:34 13711 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 11:03:37 16942 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 11:03:37 16946 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 11:03:38 17814 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xaf5a1c55, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 11:03:40 19902 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19922 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19932 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19952 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19955 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19958 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19961 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19962 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19963 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19963 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19965 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19966 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19966 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19967 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19968 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19969 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19970 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19970 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:03:40 19975 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:03:40 19976 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:03:40 19976 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:27 6331 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 11:10:27 6331 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1282f784
2020-09-15 11:10:32 10690 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 11:10:32 11248 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 11:10:32 11261 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 11:10:34 13406 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 11:10:38 16718 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 11:10:38 16722 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 11:10:39 17658 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x4c4ec88c, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 11:10:41 19780 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19802 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19812 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19832 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19836 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19839 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19845 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19846 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19847 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19848 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19849 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19850 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19852 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19853 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19854 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19855 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19856 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19856 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:10:41 19856 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:10:41 19857 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:10:41 19857 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:13:00 158756 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] New http connection, requesting read
2020-09-15 11:13:00 158757 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 11:13:00 158798 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:00 158804 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:00 158888 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:00 158892 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:00 158892 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:00 158893 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:01 160395 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:13:01 160397 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:13:01 160398 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:13:02 160464 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 11:13:02 160484 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 11:13:02 160488 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x42e0776f] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 11:13:02 160501 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 11:13:02 160502 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 11:13:02 160502 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 11:13:02 160506 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 11:13:02 160508 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:02 160509 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:02 160524 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:02 160525 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:02 160970 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:02 GMT]
2020-09-15 11:13:02 160970 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:02 161009 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:02 161018 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:02 161028 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:02 161028 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:02 161029 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:02 161033 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:02 161041 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:02 161042 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:02 161042 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:46 205396 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:46 205396 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:46 205399 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:46 205399 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:46 205399 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:46 205399 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:46 205404 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:46 205405 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:46 205405 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:46 205406 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:46 205406 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:47 205732 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:47 GMT]
2020-09-15 11:13:47 205733 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:47 205734 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:47 205734 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:47 205735 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:47 205735 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:47 205735 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:47 205736 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:47 205737 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:47 205737 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:47 205737 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:48 206521 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:48 206522 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:48 206523 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:48 206524 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:48 206524 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:48 206524 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:48 206528 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:48 206528 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:48 206528 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:48 206529 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:48 206529 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:48 206738 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:48 GMT]
2020-09-15 11:13:48 206738 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:48 206740 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:48 206740 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:48 206741 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:48 206741 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:48 206741 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:48 206741 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:48 206743 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:48 206743 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:48 206744 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:49 207532 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:49 207533 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:49 207534 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:49 207534 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:49 207534 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:49 207534 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:49 207537 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:49 207537 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:49 207537 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:49 207538 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:49 207538 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:49 207687 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:48 GMT]
2020-09-15 11:13:49 207687 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:49 207689 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:49 207689 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:49 207690 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:49 207690 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:49 207690 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:49 207690 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:49 207691 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:49 207691 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:49 207692 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:49 208290 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:49 208290 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:49 208293 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:49 208293 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:49 208293 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:49 208293 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:49 208295 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:49 208295 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:49 208296 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:49 208300 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:49 208301 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:50 208546 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:50 GMT]
2020-09-15 11:13:50 208546 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:50 208548 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:50 208548 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:50 208549 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:50 208549 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:50 208549 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:50 208549 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:50 208550 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:50 208550 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:50 208550 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:50 209084 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:50 209085 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:50 209092 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:50 209092 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:50 209092 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:50 209093 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:50 209095 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:50 209095 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:50 209095 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:50 209096 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:50 209096 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:50 209228 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:50 GMT]
2020-09-15 11:13:50 209228 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:50 209231 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:50 209232 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:50 209234 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:50 209234 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:50 209234 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:50 209235 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:50 209237 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:50 209237 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:50 209237 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:51 209862 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:51 209862 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:51 209864 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:51 209864 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:51 209864 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:51 209864 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:51 209866 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:51 209867 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:51 209867 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:51 209867 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:51 209868 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:51 210038 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:51 GMT]
2020-09-15 11:13:51 210038 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:51 210040 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:51 210040 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:51 210040 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:51 210041 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:51 210041 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:51 210041 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:51 210042 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:51 210042 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:51 210042 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:52 210550 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:52 210550 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:52 210552 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:52 210556 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:52 210556 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:52 210556 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:52 210559 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:52 210559 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:52 210560 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:52 210561 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:52 210561 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:52 210780 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:51 GMT]
2020-09-15 11:13:52 210781 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:52 210781 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:52 210782 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:52 210782 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:52 210782 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:52 210782 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:52 210782 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:52 210783 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:52 210783 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:52 210783 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:52 211309 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:52 211309 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:52 211311 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:52 211311 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:52 211311 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:52 211311 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:52 211313 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:52 211313 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:52 211314 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:52 211314 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:52 211314 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:53 211470 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:53 GMT]
2020-09-15 11:13:53 211470 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:53 211471 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:53 211471 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:53 211472 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:53 211472 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:53 211472 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:53 211472 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:13:53 211473 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:53 211473 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:53 211473 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:53 212057 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:13:53 212057 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:13:53 212059 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:13:53 212059 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:13:53 212059 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:13:53 212059 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:13:53 212063 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:13:53 212063 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:13:53 212064 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:13:53 212065 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:13:53 212065 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:13:53 212199 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:13:53 GMT]
2020-09-15 11:13:53 212199 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:13:53 212201 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:13:53 212202 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:13:53 212203 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:13:53 212203 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:13:53 212203 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:13:53 212205 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:13:53 212205 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:13:53 212205 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:13:53 212205 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:46 265219 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:46 265219 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:46 265220 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:46 265220 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:46 265220 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:46 265220 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:46 265224 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:46 265224 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:46 265225 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:46 265225 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:46 265226 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:46 265434 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:46 GMT]
2020-09-15 11:14:46 265434 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:46 265435 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:46 265435 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:46 265436 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:46 265436 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:46 265436 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:46 265436 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:46 265437 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:46 265438 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:46 265438 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:53 271785 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:53 271785 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:53 271787 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:53 271787 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:53 271787 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:53 271787 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:53 271789 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:53 271789 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:53 271790 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:53 271791 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:53 271791 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:53 272077 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:53 GMT]
2020-09-15 11:14:53 272077 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:53 272079 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:53 272079 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:53 272081 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:53 272081 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:53 272081 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:53 272082 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:53 272082 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:53 272083 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:53 272083 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:56 274473 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:56 274474 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:56 274475 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:56 274475 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:56 274475 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:56 274475 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:56 274484 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:56 274485 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:56 274486 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:56 274487 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:56 274487 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:56 274622 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:56 GMT]
2020-09-15 11:14:56 274623 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:56 274624 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:56 274624 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:56 274625 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:56 274625 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:56 274625 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:56 274626 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:56 274627 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:56 274627 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:56 274627 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:57 275677 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:57 275677 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:57 275678 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:57 275678 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:57 275678 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:57 275679 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:57 275680 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:57 275681 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:57 275681 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:57 275681 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:57 275681 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:57 275893 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:57 GMT]
2020-09-15 11:14:57 275893 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:57 275896 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:57 275897 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:57 275898 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:57 275898 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:57 275899 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:57 275899 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:57 275902 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:57 275902 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:57 275902 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:58 276516 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:58 276517 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:58 276518 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:58 276518 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:58 276518 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:58 276518 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:58 276520 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:58 276521 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:58 276521 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:58 276529 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:58 276529 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:58 276830 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:57 GMT]
2020-09-15 11:14:58 276830 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:58 276831 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:58 276832 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:58 276832 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:58 276832 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:58 276832 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:58 276832 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:58 276833 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:58 276834 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:58 276834 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:58 277396 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:58 277397 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:58 277398 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:58 277398 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:58 277398 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:58 277398 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:58 277400 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:58 277400 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:58 277402 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:58 277403 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:58 277403 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:59 277671 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:59 GMT]
2020-09-15 11:14:59 277672 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:59 277674 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:59 277675 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:59 277677 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:59 277680 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:59 277680 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:59 277681 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:14:59 277679 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:59 277681 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:59 277682 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:59 278169 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:14:59 278170 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:14:59 278171 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:14:59 278171 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:14:59 278171 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:14:59 278171 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:14:59 278180 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:14:59 278181 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:14:59 278181 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:14:59 278182 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:14:59 278182 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:14:59 278307 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:14:59 GMT]
2020-09-15 11:14:59 278307 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:14:59 278308 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:14:59 278309 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:14:59 278309 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:14:59 278309 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:14:59 278309 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:14:59 278310 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:14:59 278311 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:14:59 278311 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:14:59 278311 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:15:00 278952 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:15:00 278952 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:15:00 278954 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:15:00 278954 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:15:00 278954 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:15:00 278954 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:15:00 278956 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:15:00 278956 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:15:00 278956 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:15:00 278958 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:15:00 278958 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:15:00 279105 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:15:00 GMT]
2020-09-15 11:15:00 279105 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:15:00 279108 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:15:00 279109 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:15:00 279110 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:15:00 279110 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:15:00 279111 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:15:00 279112 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:15:00 279113 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:15:00 279113 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:15:00 279114 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:15:01 279689 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:15:01 279689 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:15:01 279691 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:15:01 279691 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:15:01 279691 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:15:01 279691 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:15:01 279694 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:15:01 279694 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:15:01 279695 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:15:01 279695 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:15:01 279696 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:15:01 279950 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:15:00 GMT]
2020-09-15 11:15:01 279950 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:15:01 279952 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:15:01 279952 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:15:01 279953 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:15:01 279953 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:15:01 279953 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:15:01 279954 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:15:01 279955 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:15:01 279955 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:15:01 279955 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:15:01 280370 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:15:01 280370 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:15:01 280371 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:15:01 280371 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:15:01 280371 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:15:01 280371 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:15:01 280375 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:15:01 280375 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:15:01 280376 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:15:01 280376 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:15:01 280377 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:15:02 280618 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:15:02 GMT]
2020-09-15 11:15:02 280618 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:15:02 280619 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:15:02 280620 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:15:02 280621 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:15:02 280621 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:15:02 280621 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:15:02 280621 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:15:02 280622 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:15:02 280622 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:15:02 280622 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:15:02 280866 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:15:02 280866 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:15:02 280867 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:15:02 280868 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:15:02 280868 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-21] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:15:02 280868 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:15:02 280869 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:15:02 280870 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:15:02 280874 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:15:02 280875 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:15:02 280875 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:15:02 281002 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:15:02 GMT]
2020-09-15 11:15:02 281003 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:15:02 281005 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:15:02 281005 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:15:02 281007 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:15:02 281007 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:15:02 281007 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:15:02 281007 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:15:02 281010 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:15:02 281010 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:15:02 281011 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:15:02 281187 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Increasing pending responses, now 1
2020-09-15 11:15:02 281187 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@549b758e
2020-09-15 11:15:02 281188 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:15:02 281189 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:15:02 281189 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e24d32-22] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5fb437d2
2020-09-15 11:15:02 281189 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58b5d5fc}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@8e3449e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1e32037d}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5b0e5d5f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5cdc8499}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@73d7d676}, order = 0], me.monkey.gateway.filter.AuthFilter@66c86735, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@42536da6}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@38445703}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2a30b0cb}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@44ae6b66}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@7591cbd1}, order = 2147483647]]
2020-09-15 11:15:02 281192 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:15:02 281193 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:15:02 281193 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:15:02 281194 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:15:02 281195 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:15:02 281352 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:15:02 GMT]
2020-09-15 11:15:02 281352 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:15:02 281354 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:15:02 281355 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:15:02 281356 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:15:02 281358 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:15:02 281358 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:15:02 281358 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:15:02 281359 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP response frame
2020-09-15 11:15:02 281360 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Decreasing pending responses, now 0
2020-09-15 11:15:02 281360 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x37e24d32, L:/127.0.0.1:8191 - R:/127.0.0.1:65287] Last HTTP packet was sent, terminating the channel
2020-09-15 11:16:02 341391 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x42e0776f, L:/192.168.50.124:65304 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x42e0776f, L:/192.168.50.124:65304 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 11:21:17 6219 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 11:21:17 6220 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@7db47323
2020-09-15 11:21:21 10648 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 11:21:22 11233 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 11:21:22 11248 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 11:21:24 13356 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 11:21:27 16524 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 11:21:27 16528 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 11:21:28 17369 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x6db2ea0b, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-15 11:21:30 19382 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19402 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19412 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19434 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19436 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19439 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19444 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19448 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19449 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19451 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19452 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19453 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19454 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19455 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19456 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19457 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19458 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19459 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:21:30 19461 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:21:30 19462 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:21:30 19463 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:22:53 102797 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] New http connection, requesting read
2020-09-15 11:22:53 102799 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 11:22:53 102826 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:22:53 102829 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:22:54 102887 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:22:54 102893 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:22:54 102893 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:22:54 102894 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:22:55 104483 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:22:55 104485 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:22:55 104485 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:22:55 104547 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 11:22:55 104568 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 11:22:55 104572 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xe0df4a26] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 11:22:55 104583 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 11:22:55 104583 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 11:22:55 104583 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 11:22:55 104586 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 11:22:55 104587 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:22:55 104588 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:22:55 104603 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:22:55 104605 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:22:56 104920 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:22:56 GMT]
2020-09-15 11:22:56 104920 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:22:56 104937 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:22:56 104944 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:22:56 104953 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:22:56 104954 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:22:56 104954 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:22:56 104965 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:22:56 104966 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:22:56 104966 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:22:56 104968 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:22:57 106576 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:22:57 106576 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:22:57 106585 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:22:57 106585 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:22:57 106585 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:22:57 106585 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:22:57 106593 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:22:57 106595 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:22:57 106595 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:22:57 106596 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:22:57 106597 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:22:57 106728 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:22:57 GMT]
2020-09-15 11:22:57 106728 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:22:57 106729 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:22:57 106729 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:22:57 106730 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:22:57 106730 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:22:57 106730 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:22:57 106731 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:22:57 106732 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:22:57 106732 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:22:57 106732 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:22:59 108858 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:22:59 108858 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:22:59 108861 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:22:59 108861 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:22:59 108861 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:22:59 108861 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:00 108864 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:00 108864 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:00 108864 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:00 108866 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:00 108867 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:00 109168 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:00 GMT]
2020-09-15 11:23:00 109168 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:00 109169 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:00 109170 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:00 109171 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:00 109171 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:00 109171 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:00 109171 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:00 109172 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:00 109172 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:00 109173 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:01 110039 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:01 110039 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:01 110041 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:01 110041 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:01 110041 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:01 110041 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:01 110043 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:01 110044 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:01 110044 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:01 110045 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:01 110045 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:01 110619 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:01 GMT]
2020-09-15 11:23:01 110619 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:01 110620 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:01 110621 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:01 110622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:01 110622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:01 110622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:01 110622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:01 110628 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:01 110628 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:01 110628 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:15 124001 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:15 124001 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:15 124005 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:15 124005 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:15 124005 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:15 124005 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:15 124014 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:15 124014 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:15 124014 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:15 124015 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:15 124015 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:15 124137 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:15 GMT]
2020-09-15 11:23:15 124137 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:15 124138 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:15 124139 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:15 124140 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:15 124140 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:15 124140 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:15 124140 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:15 124143 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:15 124143 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:15 124143 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:15 124727 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:15 124727 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:15 124728 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:15 124729 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:15 124729 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:15 124729 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:15 124731 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:15 124732 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:15 124732 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:15 124732 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:15 124733 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:15 124810 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:15 GMT]
2020-09-15 11:23:15 124811 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:15 124812 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:15 124812 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:15 124813 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:15 124813 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:15 124813 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:15 124813 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:15 124814 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:15 124814 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:15 124814 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:16 125761 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:16 125762 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:16 125763 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:16 125763 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:16 125763 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:16 125763 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:16 125765 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:16 125766 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:16 125766 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:16 125768 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:16 125768 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:17 125865 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:17 GMT]
2020-09-15 11:23:17 125865 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:17 125866 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:17 125867 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:17 125867 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:17 125868 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:17 125868 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:17 125868 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:17 125872 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:17 125872 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:17 125872 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:17 126416 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:17 126416 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:17 126418 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:17 126418 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:17 126418 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:17 126434 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:17 126438 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:17 126438 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:17 126438 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:17 126439 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:17 126439 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:17 126555 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:17 GMT]
2020-09-15 11:23:17 126556 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:17 126557 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:17 126557 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:17 126558 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:17 126559 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:17 126559 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:17 126559 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:17 126561 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:17 126561 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:17 126561 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:23:22 131513 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:23:22 131513 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:23:22 131515 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:23:22 131515 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:23:22 131515 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:23:22 131515 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:23:22 131517 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:23:22 131517 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:23:22 131517 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:23:22 131518 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:23:22 131518 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:23:22 131616 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:23:22 GMT]
2020-09-15 11:23:22 131616 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:23:22 131617 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:23:22 131617 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:23:22 131618 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:23:22 131618 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:23:22 131619 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:23:22 131619 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:23:22 131619 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:23:22 131619 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:23:22 131619 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:24:21 190806 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:24:21 190807 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:24:21 190810 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:24:21 190810 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:24:21 190810 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:24:21 190810 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:24:21 190812 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:24:21 190812 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:24:21 190812 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:24:21 190813 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:24:21 190813 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:24:22 190912 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:24:22 GMT]
2020-09-15 11:24:22 190913 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:24:22 190913 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:24:22 190914 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:24:22 190914 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:24:22 190914 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:24:22 190914 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:24:22 190915 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:24:22 190916 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:24:22 190916 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:24:22 190916 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:24:22 191830 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:24:22 191831 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:24:22 191833 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:24:22 191833 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:24:22 191834 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:24:22 191834 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:24:22 191836 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:24:22 191836 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:24:22 191836 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:24:22 191837 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:24:22 191837 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:24:23 191926 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:24:23 GMT]
2020-09-15 11:24:23 191926 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:24:23 191927 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:24:23 191927 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:24:23 191928 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:24:23 191928 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:24:23 191928 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:24:23 191928 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:24:23 191930 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:24:23 191930 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:24:23 191930 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:24:23 192730 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:24:23 192730 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:24:23 192732 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:24:23 192732 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:24:23 192732 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:24:23 192733 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:24:23 192735 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:24:23 192735 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:24:23 192735 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:24:23 192738 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:24:23 192738 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:24:23 192825 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:24:23 GMT]
2020-09-15 11:24:23 192826 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:24:23 192827 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:24:23 192827 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:24:23 192828 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:24:23 192828 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:24:23 192828 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:24:23 192828 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:24:23 192829 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:24:23 192829 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:24:23 192829 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:24:37 206467 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:24:37 206467 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:24:37 206468 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:24:37 206468 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:24:37 206469 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:24:37 206469 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:24:37 206471 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:24:37 206472 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:24:37 206472 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:24:37 206473 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:24:37 206474 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:24:37 206576 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:24:37 GMT]
2020-09-15 11:24:37 206576 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:24:37 206577 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:24:37 206578 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:24:37 206578 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:24:37 206578 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:24:37 206578 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:24:37 206579 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:24:37 206581 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:24:37 206581 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:24:37 206581 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:24:38 207315 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:24:38 207315 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:24:38 207316 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:24:38 207317 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:24:38 207317 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:24:38 207317 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:24:38 207318 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:24:38 207319 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:24:38 207319 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:24:38 207323 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:24:38 207323 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:24:38 207405 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:24:37 GMT]
2020-09-15 11:24:38 207405 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:24:38 207406 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:24:38 207406 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:24:38 207407 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:24:38 207407 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:24:38 207407 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:24:38 207407 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:24:38 207408 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:24:38 207408 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:24:38 207408 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:06 235191 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:06 235192 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:06 235193 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:06 235193 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:06 235193 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:06 235194 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:06 235196 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:06 235196 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:06 235196 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:06 235197 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:06 235197 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:06 235282 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:06 GMT]
2020-09-15 11:25:06 235282 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:06 235283 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:06 235283 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:06 235284 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:06 235284 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:06 235284 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:06 235285 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:06 235285 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:06 235285 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:06 235285 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:07 236140 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:07 236140 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:07 236142 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:07 236142 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:07 236142 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:07 236142 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:07 236144 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:07 236144 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:07 236144 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:07 236147 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:07 236147 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:07 236251 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:06 GMT]
2020-09-15 11:25:07 236251 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:07 236252 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:07 236253 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:07 236255 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:07 236255 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:07 236256 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:07 236256 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:07 236257 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:07 236257 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:07 236257 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:08 237009 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:08 237009 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:08 237010 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:08 237010 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:08 237010 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:08 237011 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:08 237013 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:08 237013 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:08 237013 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:08 237014 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:08 237014 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:08 237121 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:08 GMT]
2020-09-15 11:25:08 237121 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:08 237123 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:08 237123 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:08 237124 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:08 237124 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:08 237124 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:08 237124 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:08 237125 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:08 237125 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:08 237126 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:08 237756 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:08 237757 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:08 237758 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:08 237758 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:08 237758 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:08 237758 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:08 237760 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:08 237761 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:08 237761 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:08 237761 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:08 237762 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:08 237833 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:08 GMT]
2020-09-15 11:25:08 237833 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:08 237834 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:08 237835 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:08 237835 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:08 237835 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:08 237835 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:08 237837 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:08 237838 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:08 237838 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:08 237838 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:09 238543 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:09 238543 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:09 238544 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:09 238544 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:09 238544 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:09 238545 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:09 238546 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:09 238546 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:09 238547 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:09 238547 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:09 238547 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:09 238649 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:09 GMT]
2020-09-15 11:25:09 238650 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:09 238651 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:09 238652 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:09 238653 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:09 238653 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:09 238653 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:09 238654 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:09 238655 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:09 238655 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:09 238655 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:25:10 239307 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Increasing pending responses, now 1
2020-09-15 11:25:10 239307 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7e4b7137
2020-09-15 11:25:10 239308 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:25:10 239309 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:25:10 239309 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39f2f1ba-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2aeb4fed
2020-09-15 11:25:10 239309 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@314c6f89}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@480994d3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@49f1184e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@125124ea}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@49de1505}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@29e3c28}, order = 0], me.monkey.gateway.filter.AuthFilter@1dbf58e7, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@31450fc0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8b1170f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1bbc1b90}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69cb134}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@52b30dcd}, order = 2147483647]]
2020-09-15 11:25:10 239312 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:25:10 239313 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:25:10 239313 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:25:10 239314 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-15 11:25:10 239314 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:25:10 239447 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:25:09 GMT]
2020-09-15 11:25:10 239447 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:25:10 239453 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:25:10 239455 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:25:10 239457 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:25:10 239457 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:25:10 239457 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:25:10 239458 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:25:10 239460 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP response frame
2020-09-15 11:25:10 239460 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Decreasing pending responses, now 0
2020-09-15 11:25:10 239460 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x39f2f1ba, L:/127.0.0.1:8191 - R:/127.0.0.1:55129] Last HTTP packet was sent, terminating the channel
2020-09-15 11:26:10 299477 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe0df4a26, L:/192.168.50.124:55156 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe0df4a26, L:/192.168.50.124:55156 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 11:29:55 17128 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 11:29:55 17702 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 11:29:55 17720 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 11:29:58 20162 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 11:29:58 20392 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 11:29:58 20393 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@d7c4fcb
2020-09-15 11:30:03 25664 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25684 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25698 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25719 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25723 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25725 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25727 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25729 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25729 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25732 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25733 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25734 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25739 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25740 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25741 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25742 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25743 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25744 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:30:03 25747 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:30:03 25748 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:30:03 25749 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:31:11 93509 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:31:11 93512 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:31:11 93513 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3cd2fb01] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:31:11 93513 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:31:13 95069 [http-nio-8191-exec-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 11:31:13 95071 [http-nio-8191-exec-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 11:31:13 95072 [http-nio-8191-exec-3] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 11:31:13 95204 [http-nio-8191-exec-3] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 11:31:13 95211 [http-nio-8191-exec-3] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 11:31:13 95324 [http-nio-8191-exec-3] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 11:31:14 96158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 11:31:14 96197 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xed151d09] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 11:31:14 96209 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 11:31:14 96210 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 11:31:14 96210 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 11:31:14 96220 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 11:31:14 96221 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:31:14 96225 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:31:14 96260 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:31:14 96519 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:31:14 GMT]
2020-09-15 11:31:14 96519 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:31:14 96545 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:31:14 96549 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:31:14 96586 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:31:14 96586 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:31:14 96586 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:31:14 96589 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:31:57 138904 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:31:57 138904 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:31:57 138904 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7e68a333] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:31:57 138904 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:31:57 138908 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:31:57 138908 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:31:57 138909 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:31:57 138910 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:31:57 139091 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:31:57 GMT]
2020-09-15 11:31:57 139091 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:31:57 139093 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:31:57 139093 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:31:57 139096 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:31:57 139096 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:31:57 139096 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:31:57 139096 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:31:57 139837 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:31:57 139837 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:31:57 139837 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [41618cff] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:31:57 139838 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:31:58 140673 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:31:58 140673 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:31:58 140673 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [d3abff2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:31:58 140673 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:31:58 140676 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:31:58 140677 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:31:58 140677 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:31:58 140678 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:31:58 140790 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:31:58 GMT]
2020-09-15 11:31:58 140790 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:31:58 140791 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:31:58 140791 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:31:58 140793 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:31:58 140793 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:31:58 140793 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:31:58 140793 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:31:59 141715 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:31:59 141716 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:31:59 141716 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [78d0a5c4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:31:59 141716 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:31:59 141718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:31:59 141719 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:31:59 141719 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:31:59 141720 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:32:00 141865 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:32:00 GMT]
2020-09-15 11:32:00 141865 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:32:00 141866 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:32:00 141867 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:32:00 141868 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:32:00 141868 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:32:00 141869 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:32:00 141869 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:32:00 142432 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:32:00 142432 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:32:00 142432 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37e05ae7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:32:00 142432 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:32:00 142434 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:32:00 142435 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:32:00 142435 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:32:00 142438 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:32:00 142502 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:32:00 GMT]
2020-09-15 11:32:00 142502 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:32:00 142505 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:32:00 142505 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:32:00 142508 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:32:00 142508 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:32:00 142515 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:32:00 142515 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:32:01 143062 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:32:01 143062 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:32:01 143062 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [57145120] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:32:01 143062 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:32:01 143604 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:32:01 143604 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:32:01 143604 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [69cd625a] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:32:01 143604 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:32:01 143607 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 11:32:01 143607 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 11:32:01 143607 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 11:32:01 143608 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 11:32:01 143718 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 03:32:01 GMT]
2020-09-15 11:32:01 143718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 11:32:01 143721 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 11:32:01 143722 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 11:32:01 143726 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 11:32:01 143726 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 11:32:01 143727 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 11:32:01 143727 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 11:32:02 144146 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 11:32:02 144146 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 11:32:02 144146 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5eb1297b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2fb236aa
2020-09-15 11:32:02 144147 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6f2bf657}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@238280df}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@1c7744c1}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@73c09a98}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c92f094}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@750c23a3}, order = 0], me.monkey.gateway.filter.AuthFilter@43ebdd82, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27d6467}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8dcacf1}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@1c3b221f}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50f13494}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5bf1b528}, order = 2147483647]]
2020-09-15 11:33:01 203758 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xed151d09, L:/192.168.50.124:59487 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xed151d09, L:/192.168.50.124:59487 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 13:48:46 13615 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 13:48:47 14307 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 13:48:47 14325 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 13:48:49 16928 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 13:48:50 17288 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 13:48:50 17288 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@761a0bbd
2020-09-15 13:48:57 24079 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24115 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24157 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24222 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24236 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24239 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24244 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24246 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24247 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24357 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24362 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24365 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24367 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24368 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24369 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24430 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24432 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24434 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:48:57 24436 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:48:57 24437 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:48:57 24438 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:50:15 102531 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 13:50:15 102535 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@4d0dfbac, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 13:50:15 102535 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [69690b2b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@703ccff1
2020-09-15 13:50:15 102536 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3d1b43d8}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@2570851e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@79636080}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1e4d93f7}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3462e99a}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7320750c}, order = 0], me.monkey.gateway.filter.AuthFilter@4d0dfbac, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9f52eb7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@5e5d40ec}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@5300694d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@5b028f58}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@46c2189e}, order = 2147483647]]
2020-09-15 13:50:17 104327 [http-nio-8191-exec-4] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:50:17 104329 [http-nio-8191-exec-4] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:50:17 104330 [http-nio-8191-exec-4] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:50:17 104426 [http-nio-8191-exec-4] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 13:50:17 104432 [http-nio-8191-exec-4] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 13:50:17 104551 [http-nio-8191-exec-4] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 13:50:18 105508 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 13:50:18 105544 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x369a7bec] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 13:50:18 105560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 13:50:18 105560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 13:50:18 105560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 13:50:18 105570 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 13:50:18 105571 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 13:50:18 105585 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 13:50:18 105637 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 13:50:18 105943 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 05:50:18 GMT]
2020-09-15 13:50:18 105943 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 13:50:19 105961 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 13:50:19 105965 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 13:50:19 105998 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 13:50:19 105998 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 13:50:19 105998 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 13:50:19 106000 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 13:51:19 165974 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x369a7bec, L:/192.168.50.124:50947 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x369a7bec, L:/192.168.50.124:50947 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 13:53:14 14642 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 13:53:15 15367 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 13:53:15 15395 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 13:53:17 18050 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 13:53:18 18293 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 13:53:18 18294 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@4a7ac98b
2020-09-15 13:53:23 24081 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24107 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24117 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24150 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24154 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24156 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24157 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24158 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24159 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24161 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24162 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24163 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24166 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24167 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24168 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24169 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24170 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24171 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:23 24172 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:23 24174 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:23 24174 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:37 37719 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 13:53:37 37723 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a5bd251, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 13:53:37 37724 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [30f07123] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@3bc51ae5
2020-09-15 13:53:37 37725 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@36857d32}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@57ab4b33}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@5c34b0f2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@52dd1be2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@10508ba6}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@39159b14}, order = 0], me.monkey.gateway.filter.AuthFilter@3a5bd251, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@24520a51}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1ea19c97}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@da11873}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@525b9df4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2ae88712}, order = 2147483647]]
2020-09-15 13:53:39 39553 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 13:53:39 39556 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 13:53:39 39557 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 13:53:39 39683 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 13:53:39 39691 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 13:53:39 39961 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 13:53:41 41846 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 13:53:41 41880 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x513c8916] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 13:53:41 41892 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 13:53:41 41893 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 13:53:41 41893 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 13:53:41 41907 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 13:53:41 41908 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 13:53:41 41912 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 13:53:41 41950 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 13:53:41 42057 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 05:53:41 GMT]
2020-09-15 13:53:41 42057 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 13:53:41 42086 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 13:53:41 42094 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 13:53:41 42128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 13:53:41 42128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 13:53:41 42128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 13:53:41 42131 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 13:54:41 102076 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x513c8916, L:/192.168.50.124:53075 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x513c8916, L:/192.168.50.124:53075 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 13:55:11 132038 [http-nio-8191-exec-4] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [4d10b2a0] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-15 13:55:11 132039 [http-nio-8191-exec-4] DEBUG o.s.w.r.resource.ResourceWebHandler - [4d10b2a0] Resource not found
2020-09-15 13:55:12 132347 [http-nio-8191-exec-3] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [78bc3524] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-15 13:55:12 132350 [http-nio-8191-exec-3] DEBUG o.s.w.r.resource.ResourceWebHandler - [78bc3524] Resource not found
2020-09-15 14:00:09 12092 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 14:00:09 12703 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 14:00:09 12719 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 14:00:12 15104 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 14:00:12 15366 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 14:00:12 15366 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@637c8632
2020-09-15 14:00:17 20674 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20692 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20704 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20730 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20734 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20735 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20739 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20740 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20741 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20742 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20744 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20746 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20748 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20749 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20750 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20750 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20751 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:00:17 20752 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20752 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:17 20753 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:00:17 20754 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:00:18 21347 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin1111
2020-09-15 14:00:18 21347 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:8191/] to Route{id='default_path_to_httpbin1111', uri=lb://application, order=0, predicate=Paths: [/], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1a8c96c4], metadata={}}
2020-09-15 14:00:18 21347 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [978aa1e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:00:18 21348 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@1a8c96c4, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:00:52 55471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin1111
2020-09-15 14:00:52 55471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:8191/] to Route{id='default_path_to_httpbin1111', uri=lb://application, order=0, predicate=Paths: [/], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@1a8c96c4], metadata={}}
2020-09-15 14:00:52 55471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1b8d2571] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:00:52 55472 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@1a8c96c4, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:31 2314233 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:31 2314238 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:31 2314238 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [74caf59b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:31 2314239 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:32 2315553 [http-nio-8191-exec-7] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:38:32 2315554 [http-nio-8191-exec-7] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:38:32 2315555 [http-nio-8191-exec-7] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:38:32 2315633 [http-nio-8191-exec-7] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 14:38:32 2315638 [http-nio-8191-exec-7] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 14:38:32 2315753 [http-nio-8191-exec-7] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 14:38:33 2316543 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 14:38:33 2316577 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x4f475a8f] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 14:38:33 2316587 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 14:38:33 2316588 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 14:38:33 2316588 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 14:38:33 2316597 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 14:38:33 2316598 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:33 2316602 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:33 2316633 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:33 2316861 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:33 GMT]
2020-09-15 14:38:33 2316861 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:34 2316873 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:34 2316879 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:34 2316900 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:34 2316900 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:34 2316900 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:34 2316903 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:36 2319042 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:36 2319042 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:36 2319042 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [d8aea4b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:36 2319043 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:36 2319046 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:36 2319047 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:36 2319047 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:36 2319048 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:36 2319105 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:36 GMT]
2020-09-15 14:38:36 2319106 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:36 2319107 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:36 2319107 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:36 2319110 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:36 2319110 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:36 2319110 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:36 2319110 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:36 2319690 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:36 2319690 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:36 2319690 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4d2535bd] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:36 2319691 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:36 2319693 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:36 2319693 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:36 2319694 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:36 2319695 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:36 2319786 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:36 GMT]
2020-09-15 14:38:36 2319786 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:36 2319787 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:36 2319788 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:36 2319790 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:36 2319790 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:36 2319790 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:36 2319790 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:37 2320315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:37 2320315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:37 2320315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1e405757] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:37 2320315 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:37 2320321 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:37 2320322 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:37 2320322 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:37 2320323 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:37 2320400 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:37 GMT]
2020-09-15 14:38:37 2320400 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:37 2320401 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:37 2320401 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:37 2320403 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:37 2320403 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:37 2320403 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:37 2320403 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:38 2320945 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:38 2320945 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:38 2320946 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e83f8d5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:38 2320946 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:38 2320953 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:38 2320953 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:38 2320954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:38 2320954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:38 2321024 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:37 GMT]
2020-09-15 14:38:38 2321025 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:38 2321026 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:38 2321026 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:38 2321028 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:38 2321028 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:38 2321028 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:38 2321028 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:38 2321571 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:38 2321571 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:38 2321571 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [126a4f1f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:38 2321571 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:38 2321573 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:38 2321573 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:38 2321573 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:38 2321575 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:38 2321695 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:38 GMT]
2020-09-15 14:38:38 2321695 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:38 2321696 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:38 2321696 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:38 2321698 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:38 2321698 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:38 2321698 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:38 2321698 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:39 2322305 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:39 2322305 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:39 2322305 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7b94f994] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:39 2322305 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:39 2322308 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:39 2322308 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:39 2322308 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:39 2322309 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:39 2322395 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:38 GMT]
2020-09-15 14:38:39 2322395 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:39 2322396 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:39 2322397 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:39 2322398 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:39 2322398 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:39 2322398 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:39 2322398 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:40 2322961 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:38:40 2322962 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:38:40 2322962 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [55d7a4ca] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@35a34263
2020-09-15 14:38:40 2322962 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ef396c9}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7646c9f5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@323eecf8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ca907af}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4a18e0f1}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7857cb1d}, order = 0], me.monkey.gateway.filter.AuthFilter@3a6c1c5f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5a99543b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6f1163f7}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@687f62a5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e4348c0}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4e0802e0}, order = 2147483647]]
2020-09-15 14:38:40 2322964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:38:40 2322964 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:38:40 2322964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:38:40 2322965 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:38:40 2323030 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:38:40 GMT]
2020-09-15 14:38:40 2323030 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:38:40 2323031 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:38:40 2323032 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:38:40 2323033 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:38:40 2323033 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:38:40 2323033 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:38:40 2323033 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:38:49 2332155 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x4f475a8f, L:/192.168.50.124:60142 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x4f475a8f, L:/192.168.50.124:60142 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 14:38:49 2332183 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:38:49 2332184 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:38:49 2332185 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:39:53 2395911 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:39:53 2395913 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:39:53 2395915 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:20 11241 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-15 14:40:20 11945 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-15 14:40:20 11970 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-15 14:40:23 14357 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-15 14:40:23 14830 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-15 14:40:23 14833 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@31a80c88
2020-09-15 14:40:29 20117 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20137 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20146 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20165 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20168 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20170 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20172 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20173 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20174 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20175 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20176 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20178 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20179 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20180 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20181 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20182 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20183 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20184 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:29 20186 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:29 20188 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:29 20188 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:42 33207 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:42 33212 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:42 33212 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [363cd50a] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:42 33213 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:43 34598 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-15 14:40:43 34599 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-15 14:40:43 34600 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-15 14:40:43 34671 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-15 14:40:43 34677 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-15 14:40:43 34792 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-15 14:40:44 35609 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 14:40:44 35646 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xfb7e4e10] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 14:40:44 35657 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 14:40:44 35657 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 14:40:44 35658 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 14:40:44 35669 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 14:40:44 35670 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:44 35674 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:44 35716 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:45 36554 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:45 GMT]
2020-09-15 14:40:45 36554 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:45 36570 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:45 36575 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:45 36603 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:45 36603 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:45 36603 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:45 36606 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:46 37853 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:46 37853 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:46 37853 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2dfe0cce] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:46 37853 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:46 37861 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:46 37862 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:46 37862 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:46 37863 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:46 37964 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:46 GMT]
2020-09-15 14:40:46 37964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:46 37965 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:46 37966 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:46 37967 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:46 37968 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:46 37968 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:46 37968 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:47 38872 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:47 38873 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:47 38873 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6f81421d] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:47 38873 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:47 38876 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:47 38877 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:47 38877 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:47 38878 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:47 38976 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:47 GMT]
2020-09-15 14:40:47 38976 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:47 38977 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:47 38977 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:47 38981 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:47 38982 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:47 38982 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:47 38982 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:48 39539 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:48 39539 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:48 39539 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2406563b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:48 39539 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:48 39542 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:48 39542 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:48 39542 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:48 39543 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:48 39622 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:47 GMT]
2020-09-15 14:40:48 39622 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:48 39623 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:48 39623 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:48 39625 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:48 39626 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:48 39627 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:48 39627 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:49 40083 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:49 40083 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:49 40083 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1e405757] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:49 40084 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:49 40086 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:49 40086 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:49 40087 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:49 40088 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:49 40189 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:49 GMT]
2020-09-15 14:40:49 40190 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:49 40194 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:49 40195 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:49 40197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:49 40197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:49 40197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:49 40197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:49 40773 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:49 40779 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:49 40779 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [28dcda92] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:49 40779 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:49 40782 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:49 40782 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:49 40782 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:49 40784 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:49 40859 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:49 GMT]
2020-09-15 14:40:49 40859 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:49 40861 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:49 40861 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:49 40863 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:49 40863 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:49 40863 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:49 40863 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:50 41155 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:50 41155 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:50 41155 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [10de8c1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:50 41155 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:50 41158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:50 41158 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:50 41158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:50 41159 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:50 41296 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:50 GMT]
2020-09-15 14:40:50 41296 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:50 41297 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:50 41297 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:50 41299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:50 41299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:50 41299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:50 41299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:40:50 41551 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:40:50 41551 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:40:50 41551 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [79428799] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:40:50 41551 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:40:50 41556 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:40:50 41557 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:40:50 41557 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:40:50 41558 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:40:50 41709 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:40:50 GMT]
2020-09-15 14:40:50 41709 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:40:50 41712 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:40:50 41713 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:40:50 41718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:40:50 41718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:40:50 41719 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:40:50 41719 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:41:50 101747 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfb7e4e10, L:/192.168.50.124:61409 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xfb7e4e10, L:/192.168.50.124:61409 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-15 14:41:52 103825 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:41:52 103825 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:41:52 103825 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e83f8d5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:41:52 103825 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:41:52 103832 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-15 14:41:52 103833 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xe7ae20c1] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-15 14:41:52 103836 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-15 14:41:52 103836 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-15 14:41:52 103837 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-15 14:41:52 103837 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-15 14:41:52 103837 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:41:52 103837 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:41:52 103839 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:41:52 103937 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:41:52 GMT]
2020-09-15 14:41:52 103937 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:41:52 103940 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:41:52 103941 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:41:52 103947 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:41:52 103947 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:41:52 103947 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:41:52 103947 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:41:53 104881 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:41:53 104882 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:41:53 104882 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1b8d2571] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:41:53 104882 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:41:53 104886 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-15 14:41:53 104886 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-15 14:41:53 104886 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-15 14:41:53 104888 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-15 14:41:53 105007 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Tue, 15 Sep 2020 06:41:53 GMT]
2020-09-15 14:41:53 105007 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-15 14:41:53 105008 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-15 14:41:53 105009 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-15 14:41:53 105012 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-15 14:41:53 105013 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-15 14:41:53 105013 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-15 14:41:53 105013 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-15 14:41:54 105542 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-15 14:41:54 105542 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-15 14:41:54 105542 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [380d5879] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6d41083
2020-09-15 14:41:54 105542 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7bd1098}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@44a9971f}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6e1ad658}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2e1e7bc6}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@374ba492}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1f365a26}, order = 0], me.monkey.gateway.filter.AuthFilter@179d5712, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@185bf6e0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@13018f00}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@581d5b33}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@abf1816}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6a562255}, order = 2147483647]]
2020-09-15 14:42:53 165039 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe7ae20c1, L:/192.168.50.124:62008 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe7ae20c1, L:/192.168.50.124:62008 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
