2020-09-14 14:12:55 11233 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:20:10 10377 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:24:36 10623 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:28:14 11854 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:30:39 12070 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:37:53 12372 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:42:53 11721 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:47:23 5621 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 14:47:23 5621 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@74a85515
2020-09-14 14:47:28 10171 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:47:28 10677 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 14:47:28 10691 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 14:47:30 12808 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 14:47:33 16040 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 14:47:33 16044 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 14:47:34 16868 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xe1ee0600, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 14:47:36 18943 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 18961 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 18970 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:47:36 18991 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 18993 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 18995 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:47:36 18999 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 19000 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 19002 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:47:36 19004 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 19006 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 19007 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:47:36 19009 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 19010 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 19010 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:47:36 19014 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:47:36 19015 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:47:36 19016 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:48:43 11832 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:51:30 5750 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 14:51:30 5751 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@74eec640
2020-09-14 14:51:35 10373 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 14:51:36 10970 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 14:51:36 10993 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 14:51:38 13253 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 14:51:38 13477 [main] DEBUG o.s.w.r.r.v.f.FreeMarkerConfigurer - Cannot resolve template loader path [classpath:/templates/] to [java.io.File]: using SpringTemplateLoader as fallback
java.io.FileNotFoundException: class path resource [templates/] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/Administrator/.m2/repository/org/springframework/cloud/spring-cloud-netflix-hystrix-dashboard/2.2.5.RELEASE/spring-cloud-netflix-hystrix-dashboard-2.2.5.RELEASE.jar!/templates/
	at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:217)
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:154)
	at org.springframework.ui.freemarker.FreeMarkerConfigurationFactory.getTemplateLoaderForPath(FreeMarkerConfigurationFactory.java:345)
	at org.springframework.ui.freemarker.FreeMarkerConfigurationFactory.createConfiguration(FreeMarkerConfigurationFactory.java:297)
	at org.springframework.web.reactive.result.view.freemarker.FreeMarkerConfigurer.afterPropertiesSet(FreeMarkerConfigurer.java:95)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:62)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at me.monkey.gateway.GatewaySampleApplication.main(GatewaySampleApplication.java:66)
2020-09-14 14:51:41 16465 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 14:51:41 16469 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 14:51:42 17265 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x3e1b2487, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 14:51:43 18761 [reactor-http-nio-3] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8efae2b5, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65042] New http connection, requesting read
2020-09-14 14:51:43 18761 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] New http connection, requesting read
2020-09-14 14:51:43 18762 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 14:51:43 18762 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x8efae2b5, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65042] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 14:51:43 18787 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Increasing pending responses, now 1
2020-09-14 14:51:43 18792 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4c8333a2
2020-09-14 14:51:43 18898 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 18931 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 18955 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 18977 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [9a701305-1] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 14:51:44 18986 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [9a701305-1] Resource not found
2020-09-14 14:51:44 19108 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Decreasing pending responses, now 0
2020-09-14 14:51:44 19109 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP packet was sent, terminating the channel
2020-09-14 14:51:44 19113 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP response frame
2020-09-14 14:51:44 19353 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Increasing pending responses, now 1
2020-09-14 14:51:44 19353 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4c8333a2
2020-09-14 14:51:44 19361 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [9a701305-2] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 14:51:44 19363 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [9a701305-2] Resource not found
2020-09-14 14:51:44 19367 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Decreasing pending responses, now 0
2020-09-14 14:51:44 19368 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP packet was sent, terminating the channel
2020-09-14 14:51:44 19368 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP response frame
2020-09-14 14:51:44 19548 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19550 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19551 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 19597 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19598 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19600 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 19611 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19612 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19613 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 19619 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19620 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19621 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 19622 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19623 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19623 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:44 19625 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 14:51:44 19626 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 14:51:44 19628 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 14:51:52 27276 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Increasing pending responses, now 1
2020-09-14 14:51:52 27276 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4c8333a2
2020-09-14 14:51:52 27282 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [9a701305-3] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 14:51:52 27284 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [9a701305-3] Resource not found
2020-09-14 14:51:52 27287 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Decreasing pending responses, now 0
2020-09-14 14:51:52 27287 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP packet was sent, terminating the channel
2020-09-14 14:51:52 27288 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x9a701305, L:/0:0:0:0:0:0:0:1:8191 - R:/0:0:0:0:0:0:0:1:65041] Last HTTP response frame
2020-09-14 15:11:44 5593 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 15:11:44 5593 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@5fb07347
2020-09-14 15:11:49 10134 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 15:11:49 10699 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 15:11:49 10714 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 15:11:51 12883 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 15:11:52 13098 [main] DEBUG o.s.w.r.r.v.f.FreeMarkerConfigurer - Cannot resolve template loader path [classpath:/templates/] to [java.io.File]: using SpringTemplateLoader as fallback
java.io.FileNotFoundException: class path resource [templates/] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/Administrator/.m2/repository/org/springframework/cloud/spring-cloud-netflix-hystrix-dashboard/2.2.5.RELEASE/spring-cloud-netflix-hystrix-dashboard-2.2.5.RELEASE.jar!/templates/
	at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:217)
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:154)
	at org.springframework.ui.freemarker.FreeMarkerConfigurationFactory.getTemplateLoaderForPath(FreeMarkerConfigurationFactory.java:345)
	at org.springframework.ui.freemarker.FreeMarkerConfigurationFactory.createConfiguration(FreeMarkerConfigurationFactory.java:297)
	at org.springframework.web.reactive.result.view.freemarker.FreeMarkerConfigurer.afterPropertiesSet(FreeMarkerConfigurer.java:95)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)
	at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:62)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at me.monkey.gateway.GatewaySampleApplication.main(GatewaySampleApplication.java:66)
2020-09-14 15:11:55 16155 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 15:11:55 16159 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 15:11:56 16992 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xc0b738ea, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 15:11:58 19091 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19112 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19121 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:11:58 19142 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19144 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19147 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:11:58 19148 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19149 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19150 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:11:58 19151 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19152 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19153 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:11:58 19154 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19155 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19156 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:11:58 19160 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:11:58 19161 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:11:58 19162 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:30 5314 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 15:15:30 5314 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@4b544732
2020-09-14 15:15:35 9671 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 15:15:35 10273 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 15:15:35 10288 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 15:15:37 12336 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 15:15:40 15398 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 15:15:40 15402 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 15:15:41 16213 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x68fe94b5, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 15:15:43 18212 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18232 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18241 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:43 18260 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18263 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18267 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:43 18269 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18270 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18271 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:43 18272 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18274 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18275 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:43 18276 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18277 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18277 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:43 18284 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:43 18285 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:43 18286 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:55 30195 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] New http connection, requesting read
2020-09-14 15:15:55 30196 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 15:15:55 30219 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Increasing pending responses, now 1
2020-09-14 15:15:55 30224 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@5d3bdff4
2020-09-14 15:15:55 30288 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 15:15:55 30292 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[PrefixPath prefix = '/api'], order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 15:15:55 30292 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [32d2b051-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6f156b68
2020-09-14 15:15:55 30293 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@efa04b5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4d8522ff}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5cf33d25}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5617168c}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@75da2db}, order = 0], [[PrefixPath prefix = '/api'], order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@a80a896}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1da32baf}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@8167f57}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4e4af370}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@13c81bc5}, order = 2147483647]]
2020-09-14 15:15:56 31579 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:15:56 31580 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:15:56 31581 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:15:57 31685 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Decreasing pending responses, now 0
2020-09-14 15:15:57 31686 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Last HTTP packet was sent, terminating the channel
2020-09-14 15:15:57 31689 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x32d2b051, L:/127.0.0.1:8191 - R:/127.0.0.1:54401] Last HTTP response frame
2020-09-14 15:21:04 5843 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 15:21:04 5844 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@44bbb7c6
2020-09-14 15:21:09 10446 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 15:21:09 11027 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 15:21:09 11043 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 15:21:12 13449 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 15:21:15 16616 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 15:21:15 16621 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 15:21:16 17436 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x3967cced, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 15:21:18 19488 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19510 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19520 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19539 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19542 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19544 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19546 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19547 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19549 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19550 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19550 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19551 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19552 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19553 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19554 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19555 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19556 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19557 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:18 19560 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:18 19561 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:18 19562 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:28 29856 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] New http connection, requesting read
2020-09-14 15:21:28 29857 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 15:21:28 29878 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Increasing pending responses, now 1
2020-09-14 15:21:28 29882 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@d0f5366
2020-09-14 15:21:28 29938 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 15:21:28 29941 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[PrefixPath prefix = '/'], order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 15:21:28 29941 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [74f4de85-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@73a94aa
2020-09-14 15:21:28 29942 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c335b9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@681b42d3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@671f545b}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e66bf2d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@342dc040}, order = 0], [[PrefixPath prefix = '/'], order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@75c8d8e7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@74a03bd5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7112fa5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@87fc0fc}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3c68e82}, order = 2147483647]]
2020-09-14 15:21:30 31433 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:21:30 31434 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:21:30 31436 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:21:30 31546 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 15:21:30 31573 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 15:21:30 31576 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xadd33f66] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 15:21:30 31586 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 15:21:30 31592 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 15:21:30 31592 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 15:21:30 31597 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 15:21:30 31598 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 15:21:30 31599 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 15:21:30 31610 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 15:21:30 31610 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 15:21:30 31990 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Content-Type=application/json, Transfer-Encoding=chunked, Date=Mon, 14 Sep 2020 07:21:30 GMT, Connection=close]
2020-09-14 15:21:30 31990 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 15:21:30 32009 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 15:21:30 32021 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 15:21:30 32021 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 15:21:30 32021 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=//api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 15:21:30 32025 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 ! R:host.docker.internal/192.168.50.124:8080] Channel closed, now 0 active connections and 0 inactive connections
2020-09-14 15:21:30 32037 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xadd33f66, L:/192.168.50.124:55660 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xadd33f66, L:/192.168.50.124:55660 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 15:21:30 32037 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Last HTTP response frame
2020-09-14 15:21:30 32037 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Decreasing pending responses, now 0
2020-09-14 15:21:30 32038 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x74f4de85, L:/127.0.0.1:8191 - R:/127.0.0.1:55652] Last HTTP packet was sent, terminating the channel
2020-09-14 15:24:05 5555 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 15:24:05 5555 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@ca546a1
2020-09-14 15:24:09 10074 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 15:24:10 10614 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 15:24:10 10628 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 15:24:12 12715 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 15:24:15 16058 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 15:24:15 16064 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 15:24:16 16876 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x5038b80b, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 15:24:18 18935 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 18954 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 18963 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 18983 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 18985 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 18987 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 18992 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 18995 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 18996 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 18997 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 18999 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 19000 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 19001 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 19002 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 19003 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 19003 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 19004 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 19005 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:18 19005 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:18 19006 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:18 19006 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:20 21253 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] New http connection, requesting read
2020-09-14 15:24:20 21254 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 15:24:20 21277 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Increasing pending responses, now 1
2020-09-14 15:24:20 21282 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7b52a05f
2020-09-14 15:24:20 21344 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 15:24:20 21349 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 15:24:20 21349 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [08c121da-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@65a9c944
2020-09-14 15:24:20 21350 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@637d111d}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@303fbc4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7944c323}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4153a832}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b8d6c66}, order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@3a917017}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@583030bd}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4a2dbcfc}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1f57666b}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1ed12d10}, order = 2147483647]]
2020-09-14 15:24:22 22682 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 15:24:22 22683 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 15:24:22 22683 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 15:24:22 22735 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 15:24:22 22756 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 15:24:22 22760 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xb11a112c] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 15:24:22 22767 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 15:24:22 22768 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 15:24:22 22768 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 15:24:22 22771 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 15:24:22 22772 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 15:24:22 22773 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 15:24:22 22787 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 15:24:22 22788 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 15:24:23 23846 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Mon, 14 Sep 2020 07:24:23 GMT]
2020-09-14 15:24:23 23846 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 15:24:23 23862 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 15:24:23 23866 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 15:24:23 23873 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 15:24:23 23873 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 15:24:23 23873 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-14 15:24:23 23876 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-14 15:24:23 23882 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Last HTTP response frame
2020-09-14 15:24:23 23882 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Decreasing pending responses, now 0
2020-09-14 15:24:23 23883 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x08c121da, L:/127.0.0.1:8191 - R:/127.0.0.1:56242] Last HTTP packet was sent, terminating the channel
2020-09-14 15:25:23 83911 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb11a112c, L:/192.168.50.124:56247 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xb11a112c, L:/192.168.50.124:56247 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 16:23:30 5566 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 16:23:30 5567 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@6ce9771c
2020-09-14 16:23:34 9997 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 16:23:35 10546 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 16:23:35 10564 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 16:23:37 12779 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 16:23:40 15969 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 16:23:40 15973 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 16:23:41 16768 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x0ec125f1, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 16:23:43 18801 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18830 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18840 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18867 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18871 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18875 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18878 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18879 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18881 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18882 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18883 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18884 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18887 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18888 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18889 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18893 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18894 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18895 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:23:43 18897 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:23:43 18898 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:23:43 18899 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:25:24 119452 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] New http connection, requesting read
2020-09-14 16:25:24 119453 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 16:25:24 119477 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Increasing pending responses, now 1
2020-09-14 16:25:24 119480 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@5e10eb8
2020-09-14 16:25:24 119534 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 16:25:24 119538 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 16:25:24 119538 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [a05550d9-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@3222bd5d
2020-09-14 16:25:24 119538 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@bcd9ed6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@60f3239f}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@40fee459}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@24a7d3d3}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@2c978637}, order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@3ffa0f38}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@699bb304}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@43fbc2bf}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@17477bbb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@13cc31df}, order = 2147483647]]
2020-09-14 16:25:25 120911 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 16:25:25 120913 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 16:25:25 120914 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 16:25:25 120972 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 16:25:25 120990 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 16:25:25 120993 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x8497c823] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 16:25:25 121001 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 16:25:25 121002 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 16:25:25 121002 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 16:25:25 121005 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 16:25:25 121006 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 16:25:25 121007 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 16:25:25 121022 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 16:25:25 121023 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 16:25:26 121385 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Mon, 14 Sep 2020 08:25:26 GMT]
2020-09-14 16:25:26 121385 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 16:25:26 121411 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 16:25:26 121415 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 16:25:26 121430 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 16:25:26 121430 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 16:25:26 121430 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-14 16:25:26 121433 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-14 16:25:26 121440 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Last HTTP response frame
2020-09-14 16:25:26 121440 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Decreasing pending responses, now 0
2020-09-14 16:25:26 121440 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xa05550d9, L:/127.0.0.1:8191 - R:/127.0.0.1:54559] Last HTTP packet was sent, terminating the channel
2020-09-14 16:26:26 181419 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8497c823, L:/192.168.50.124:54565 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x8497c823, L:/192.168.50.124:54565 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 17:00:11 5871 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:00:11 5872 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@d16209e
2020-09-14 17:00:15 10437 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:00:16 10990 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:00:16 11007 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:00:18 13081 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:00:21 16121 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:00:21 16124 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:00:22 16947 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xdaff63c7, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:00:24 19098 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19120 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19130 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19152 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19156 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19159 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19161 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19163 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19164 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19165 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19166 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19167 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19168 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19169 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19170 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19172 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19173 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19175 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:24 19177 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:24 19178 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:24 19179 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:34 28743 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] New http connection, requesting read
2020-09-14 17:00:34 28744 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:00:34 28767 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Increasing pending responses, now 1
2020-09-14 17:00:34 28770 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@18759ca0
2020-09-14 17:00:34 28823 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 17:00:34 28826 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 17:00:34 28826 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [611bdd91-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@26e6ec46
2020-09-14 17:00:34 28827 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@72bce309}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@30b1c5d5}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5f4df55e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5296f00c}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5487a8f1}, order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@f439e0f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@220be130}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@4727e5fc}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@379b4e86}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@62410e1f}, order = 2147483647]]
2020-09-14 17:00:35 30397 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:00:35 30429 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:00:35 30438 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:00:36 30687 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 17:00:36 30776 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 17:00:36 30781 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x9a4acb56] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:00:36 30793 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 17:00:36 30794 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 17:00:36 30795 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 17:00:36 30800 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 17:00:36 30801 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 17:00:36 30809 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 17:00:36 30859 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 17:00:36 30861 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 17:00:37 31524 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Mon, 14 Sep 2020 09:00:37 GMT]
2020-09-14 17:00:37 31524 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 17:00:37 31596 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 17:00:37 31600 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 17:00:37 31611 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 17:00:37 31621 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Last HTTP response frame
2020-09-14 17:00:37 31621 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Decreasing pending responses, now 0
2020-09-14 17:00:37 31622 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x611bdd91, L:/127.0.0.1:8191 - R:/127.0.0.1:63063] Last HTTP packet was sent, terminating the channel
2020-09-14 17:00:37 31622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 17:00:37 31622 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-14 17:00:37 31625 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-14 17:01:26 80614 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x9a4acb56, L:/192.168.50.124:63072 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x9a4acb56, L:/192.168.50.124:63072 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 17:01:38 6108 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:01:38 6108 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@62058742
2020-09-14 17:01:43 10853 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:01:43 11383 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:01:43 11397 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:01:46 13631 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:01:49 16968 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:01:49 16971 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:01:50 17810 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x96e8d9c6, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:01:52 19939 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 19957 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 19968 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 19987 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 19990 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 19992 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 19998 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 19999 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 20002 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 20003 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 20005 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 20006 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 20007 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 20008 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 20009 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 20009 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 20010 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:52 20011 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 20012 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:52 20012 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:52 20013 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:56 23872 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] New http connection, requesting read
2020-09-14 17:01:56 23872 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:01:56 23894 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Increasing pending responses, now 1
2020-09-14 17:01:56 23897 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@52d0ddfb
2020-09-14 17:01:56 23953 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 17:01:56 23956 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 17:01:56 23957 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6d9ff392-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@41fa492f
2020-09-14 17:01:56 23957 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ddac0b6}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6c13019c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@3c82bac3}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4b76251c}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@366b4a7b}, order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@446a5aa5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@2c6aa46c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@20c283b4}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2f112ade}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@628bcf2c}, order = 2147483647]]
2020-09-14 17:01:58 25619 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:01:58 25622 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:01:58 25623 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:01:58 25947 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 17:01:58 26091 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 17:01:58 26110 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xc0054f51] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:01:58 26122 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 17:01:58 26123 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 17:01:58 26123 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 17:01:58 26128 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 17:01:58 26129 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 17:01:58 26130 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 17:01:58 26162 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 17:01:58 26163 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 17:01:58 26302 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Mon, 14 Sep 2020 09:01:58 GMT]
2020-09-14 17:01:58 26303 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 17:01:58 26424 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 17:01:58 26435 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 17:01:58 26446 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 17:01:58 26447 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 17:01:58 26447 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-14 17:01:58 26455 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Last HTTP response frame
2020-09-14 17:01:58 26455 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Decreasing pending responses, now 0
2020-09-14 17:01:58 26456 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x6d9ff392, L:/127.0.0.1:8191 - R:/127.0.0.1:63458] Last HTTP packet was sent, terminating the channel
2020-09-14 17:01:58 26461 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-14 17:02:58 86355 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc0054f51, L:/192.168.50.124:63465 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc0054f51, L:/192.168.50.124:63465 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 17:10:42 6299 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:10:42 6299 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@333d44f6
2020-09-14 17:10:47 11290 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:10:48 11848 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:10:48 11864 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:11:01 5977 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:11:01 5977 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1d4cc7
2020-09-14 17:11:05 10638 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:11:06 11183 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:11:06 11197 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:11:08 13324 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:11:11 16466 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:11:11 16469 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:11:12 17315 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x15606920, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:11:14 19422 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19442 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19452 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19475 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19480 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19483 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19485 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19486 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19487 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19488 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19489 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19490 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19491 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19492 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19493 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19495 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19496 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19497 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:14 19500 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:11:14 19501 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:11:14 19502 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:11:31 36562 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] New http connection, requesting read
2020-09-14 17:11:31 36563 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:11:31 36591 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Increasing pending responses, now 1
2020-09-14 17:11:31 36595 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@363dded7
2020-09-14 17:11:31 36652 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [189727a1-1] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 17:11:31 36655 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [189727a1-1] Resource not found
2020-09-14 17:11:32 36743 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Decreasing pending responses, now 0
2020-09-14 17:11:32 36744 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Last HTTP packet was sent, terminating the channel
2020-09-14 17:11:32 36746 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x189727a1, L:/127.0.0.1:8191 - R:/127.0.0.1:49370] Last HTTP response frame
2020-09-14 17:12:16 6252 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:12:16 6252 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@49190ed6
2020-09-14 17:12:20 11034 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:12:21 11590 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:12:21 11604 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:12:23 13786 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:12:26 16968 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:12:26 16972 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:12:27 17811 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x2b444c1d, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:12:29 20043 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20063 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20077 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20099 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20109 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20110 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20113 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20114 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20114 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20115 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20116 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20117 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20124 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20126 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20126 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20128 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20128 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20130 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:12:30 20131 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:12:30 20132 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:12:30 20133 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:13:03 53361 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] New http connection, requesting read
2020-09-14 17:13:03 53363 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:13:03 53390 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Increasing pending responses, now 1
2020-09-14 17:13:03 53394 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@469ee5d2
2020-09-14 17:13:03 53457 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [aebc97d1-1] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 17:13:03 53461 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [aebc97d1-1] Resource not found
2020-09-14 17:13:03 53569 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Decreasing pending responses, now 0
2020-09-14 17:13:03 53570 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Last HTTP packet was sent, terminating the channel
2020-09-14 17:13:03 53573 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xaebc97d1, L:/127.0.0.1:8191 - R:/127.0.0.1:49849] Last HTTP response frame
2020-09-14 17:32:52 6593 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:32:52 6594 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@34ab26a
2020-09-14 17:32:57 11836 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:32:58 12461 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:32:58 12478 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:33:01 15011 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:33:04 18527 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:33:04 18531 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:33:05 19430 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x0237f9eb, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:33:07 21687 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21715 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21729 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21756 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21758 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21760 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21762 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21764 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21765 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21766 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21767 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21767 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21769 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21771 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21777 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21779 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21778 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21780 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:07 21782 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:33:07 21784 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:33:07 21786 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:33:17 31466 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] New http connection, requesting read
2020-09-14 17:33:17 31467 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:33:17 31492 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Increasing pending responses, now 1
2020-09-14 17:33:17 31496 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4bcd77e3
2020-09-14 17:33:17 31560 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [c0510531-1] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 17:33:17 31563 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [c0510531-1] Resource not found
2020-09-14 17:33:17 31658 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Decreasing pending responses, now 0
2020-09-14 17:33:17 31659 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Last HTTP packet was sent, terminating the channel
2020-09-14 17:33:17 31661 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Last HTTP response frame
2020-09-14 17:34:00 74660 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Increasing pending responses, now 1
2020-09-14 17:34:00 74660 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4bcd77e3
2020-09-14 17:34:00 74663 [reactor-http-nio-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [c0510531-2] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-14 17:34:00 74664 [reactor-http-nio-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [c0510531-2] Resource not found
2020-09-14 17:34:00 74667 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Decreasing pending responses, now 0
2020-09-14 17:34:00 74667 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Last HTTP packet was sent, terminating the channel
2020-09-14 17:34:00 74668 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0xc0510531, L:/127.0.0.1:8191 - R:/127.0.0.1:55854] Last HTTP response frame
2020-09-14 17:39:38 5914 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:39:38 5915 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@15d88c10
2020-09-14 17:39:43 10562 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 17:39:44 11112 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 17:39:44 11127 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 17:39:46 13447 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 17:39:49 16731 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 17:39:49 16735 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 17:39:50 17579 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0x2132fa11, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 17:39:52 19716 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19735 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19746 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19770 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19773 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19775 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19776 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19777 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19778 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19779 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19780 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19781 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19782 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19783 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19785 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19785 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19786 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19787 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:39:52 19789 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:39:52 19790 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:39:52 19791 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:40:33 60714 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] New http connection, requesting read
2020-09-14 17:40:33 60715 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:40:33 60737 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Increasing pending responses, now 1
2020-09-14 17:40:33 60741 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@778ee4bc
2020-09-14 17:40:33 60794 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 17:40:33 60796 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 17:40:33 60797 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [508dd79c-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@488ef431
2020-09-14 17:40:33 60797 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@efa04b5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4d8522ff}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5cf33d25}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@5617168c}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@75da2db}, order = 0], [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@a80a896}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1da32baf}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@8167f57}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4e4af370}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@13c81bc5}, order = 2147483647]]
2020-09-14 17:40:35 62158 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 17:40:35 62160 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 17:40:35 62160 [reactor-http-nio-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 17:40:35 62219 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-14 17:40:35 62251 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-14 17:40:35 62258 [reactor-http-nio-3] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x6a0c7fdb] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 17:40:35 62266 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-14 17:40:35 62267 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-14 17:40:35 62267 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-14 17:40:35 62270 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-14 17:40:35 62271 [reactor-http-nio-3] DEBUG r.n.http.client.HttpClientConnect - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-14 17:40:35 62272 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-14 17:40:35 62287 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: true]
2020-09-14 17:40:35 62287 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-14 17:40:35 62782 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Mon, 14 Sep 2020 09:40:35 GMT]
2020-09-14 17:40:35 62783 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-14 17:40:35 62807 [reactor-http-nio-3] DEBUG reactor.netty.channel.FluxReceive - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-14 17:40:35 62811 [reactor-http-nio-3] DEBUG r.n.h.client.HttpClientOperations - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-14 17:40:35 62820 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-14 17:40:35 62821 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-14 17:40:35 62821 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-14 17:40:35 62832 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Last HTTP response frame
2020-09-14 17:40:35 62832 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Decreasing pending responses, now 0
2020-09-14 17:40:35 62833 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x508dd79c, L:/127.0.0.1:8191 - R:/127.0.0.1:57665] Last HTTP packet was sent, terminating the channel
2020-09-14 17:40:35 62835 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-14 17:41:35 122821 [reactor-http-nio-3] DEBUG r.n.r.PooledConnectionProvider - [id: 0x6a0c7fdb, L:/192.168.50.124:57674 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x6a0c7fdb, L:/192.168.50.124:57674 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-14 17:59:33 7419 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 17:59:33 7420 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@31c7c281
2020-09-14 18:10:01 7140 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 18:10:01 7140 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@333d44f6
2020-09-14 18:17:12 5827 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-14 18:17:12 5827 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@5a48d186
2020-09-14 18:17:17 10620 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-14 18:17:18 11152 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-14 18:17:18 11167 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-14 18:17:20 13476 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-14 18:17:23 16702 [main] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-14 18:17:23 16705 [main] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-14 18:17:24 17545 [reactor-http-nio-1] DEBUG reactor.netty.tcp.TcpServer - [id: 0xe08179a0, L:/0:0:0:0:0:0:0:0:8191] Bound new server
2020-09-14 18:17:26 19665 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19684 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19695 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19721 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19726 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19728 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19730 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19731 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19733 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19735 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19736 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19738 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19739 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19740 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19741 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19742 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19743 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19743 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:17:26 19747 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-14 18:17:26 19748 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-14 18:17:26 19749 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-14 18:18:11 64822 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] New http connection, requesting read
2020-09-14 18:18:11 64823 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-14 18:18:11 64849 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Increasing pending responses, now 1
2020-09-14 18:18:11 64854 [reactor-http-nio-2] DEBUG r.netty.http.server.HttpServer - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@62d85eac
2020-09-14 18:18:11 64917 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-14 18:18:11 64921 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@2bae240b, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-14 18:18:11 64921 [reactor-http-nio-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [8b352c09-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@188d7c56
2020-09-14 18:18:11 64922 [reactor-http-nio-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@ff8e36d}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@25c8c71e}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f6cde7e}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@26d445e9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@27048db3}, order = 0], me.monkey.gateway.filter.AuthFilter@2bae240b, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@116b0b32}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@64af5454}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6e7f29d5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@94aeba1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4f22fd5d}, order = 2147483647]]
2020-09-14 18:18:12 65190 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Decreasing pending responses, now 0
2020-09-14 18:18:12 65191 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Last HTTP packet was sent, terminating the channel
2020-09-14 18:18:12 65193 [reactor-http-nio-2] DEBUG r.n.h.server.HttpServerOperations - [id: 0x8b352c09, L:/127.0.0.1:8191 - R:/127.0.0.1:51053] Last HTTP response frame
