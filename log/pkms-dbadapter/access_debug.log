2020-09-16 10:19:23 12477 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 10:19:24 13311 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 10:19:24 13328 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 10:19:26 15652 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 10:19:27 15865 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 10:19:27 15866 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@35d53cd8
2020-09-16 10:19:31 20749 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:31 20769 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20779 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20800 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20802 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20804 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20811 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20812 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20813 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20815 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20816 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20817 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20818 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20819 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20820 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20822 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20823 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20823 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:32 20824 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:32 20826 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:32 20827 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:50 39715 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 10:19:50 39719 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@56817b64, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 10:19:50 39719 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [738ab37c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@886d556
2020-09-16 10:19:50 39720 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@dbcf7c3}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@74919649}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3aa1c45}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@21dd9203}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2ea4e762}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@36931450}, order = 0], me.monkey.gateway.filter.AuthFilter@56817b64, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e466d}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@34d72f06}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@444c0f9a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7e43b342}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@63243c8f}, order = 2147483647]]
2020-09-16 10:19:53 42311 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:19:53 42313 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:19:53 42314 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:19:53 42540 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 10:19:53 42552 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 10:19:53 42718 [http-nio-8191-exec-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 10:19:55 44061 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 10:19:55 44127 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x44fd0e41] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 10:19:55 44141 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 10:19:55 44141 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 10:19:55 44142 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 10:19:55 44154 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 10:19:55 44155 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 10:19:55 44161 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 10:19:55 44208 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 10:19:56 45501 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 02:19:56 GMT]
2020-09-16 10:19:56 45501 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 10:19:56 45518 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 10:19:56 45523 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 10:19:56 45553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 10:19:56 45553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 10:19:56 45554 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 10:19:56 45558 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 10:20:56 105539 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x44fd0e41, L:/192.168.50.124:63908 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x44fd0e41, L:/192.168.50.124:63908 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 10:35:23 12855 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 10:35:24 13442 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 10:35:24 13457 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 10:35:26 15926 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 10:35:27 16268 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 10:35:27 16268 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@2b76ecd5
2020-09-16 10:35:32 21240 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21269 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21279 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21301 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21304 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21306 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21308 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21310 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21311 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21313 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21314 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21315 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21316 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21317 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21318 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21319 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21320 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21320 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:32 21323 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:32 21325 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:32 21327 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:57 47102 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_two_filter
2020-09-16 10:35:57 47103 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:8191/twofilter] to Route{id='test_two_filter', uri=lb://application, order=0, predicate=Paths: [/twofilter], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.TestFilter@7b0a793f, me.monkey.gateway.filter.TestFilter@fa2bd65], metadata={}}
2020-09-16 10:35:57 47103 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3d2c289] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@fe75c48
2020-09-16 10:35:57 47104 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@399fd710}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@17e6d07b}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@2914a328}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@ce0bbd5}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@16361e61}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1734b1a}, order = 0], me.monkey.gateway.filter.TestFilter@7b0a793f, me.monkey.gateway.filter.TestFilter@fa2bd65, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@7c359808}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7bd7d71c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@51566ce0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52963839}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1f013047}, order = 2147483647]]
2020-09-16 10:35:59 48805 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 10:35:59 48806 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 10:35:59 48807 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 10:35:59 48938 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 10:35:59 48945 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 10:35:59 49084 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 10:36:00 50203 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 10:36:01 50239 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x5a1d805f] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 10:36:01 50559 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 10:36:01 50560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 10:36:01 50570 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 10:36:01 50619 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 10:36:01 50620 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/twofilter, method=GET}
2020-09-16 10:36:01 50625 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 10:36:01 50688 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 10:36:01 50715 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=117, Date=Wed, 16 Sep 2020 02:36:01 GMT]
2020-09-16 10:36:01 50715 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 10:36:01 50757 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 10:36:01 50767 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 10:36:01 50839 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 10:36:01 50840 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 10:36:01 50840 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 10:36:01 50846 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 10:36:01 51091 [http-nio-8191-exec-3] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [72cceb5a] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 10:36:01 51094 [http-nio-8191-exec-3] DEBUG o.s.w.r.resource.ResourceWebHandler - [72cceb5a] Resource not found
2020-09-16 10:36:53 102797 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: test_two_filter
2020-09-16 10:36:53 102797 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:8191/twofilter] to Route{id='test_two_filter', uri=lb://application, order=0, predicate=Paths: [/twofilter], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.TestFilter@7b0a793f, me.monkey.gateway.filter.TestFilter@fa2bd65], metadata={}}
2020-09-16 10:36:53 102797 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3cb4bf79] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@fe75c48
2020-09-16 10:36:53 102797 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@399fd710}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@17e6d07b}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@2914a328}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@ce0bbd5}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@16361e61}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@1734b1a}, order = 0], me.monkey.gateway.filter.TestFilter@7b0a793f, me.monkey.gateway.filter.TestFilter@fa2bd65, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@7c359808}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7bd7d71c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@51566ce0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52963839}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1f013047}, order = 2147483647]]
2020-09-16 10:36:53 102802 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 10:36:53 102802 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/twofilter, method=GET}
2020-09-16 10:36:53 102802 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 10:36:53 102803 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 10:36:53 102806 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=117, Date=Wed, 16 Sep 2020 02:36:53 GMT]
2020-09-16 10:36:53 102806 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 10:36:53 102807 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 10:36:53 102808 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 10:36:53 102810 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 10:36:53 102810 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/twofilter, connection=PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 10:36:53 102810 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 10:36:53 102811 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 10:37:53 162857 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x5a1d805f, L:/192.168.50.124:57897 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x5a1d805f, L:/192.168.50.124:57897 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:28:43 12655 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:28:44 13216 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:28:44 13231 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:28:46 15340 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:28:46 15650 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:28:46 15650 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@6a26eee6
2020-09-16 11:28:51 20114 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20136 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20147 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20167 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20170 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20172 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20175 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20176 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20178 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20180 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20181 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20182 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20184 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20185 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20185 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20186 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20187 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20187 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:28:51 20191 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:28:51 20192 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:28:51 20193 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:33:53 11906 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:33:54 12534 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:33:54 12550 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:33:56 14829 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:33:56 15239 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:33:56 15240 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1c65ec63
2020-09-16 11:34:01 19821 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19843 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19853 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19872 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19875 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19877 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19881 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19882 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19884 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19885 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19886 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19887 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19887 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19888 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19889 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19891 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19893 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19894 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:34:01 19895 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:34:01 19896 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:34:01 19897 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:35:54 132637 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:35:54 132643 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@5c5152c4, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:35:54 132644 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3bbab331] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@4540be10
2020-09-16 11:35:54 132646 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@451a4187}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@60fe75f7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75adb1c0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1bba9862}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1317ac2c}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@363ba634}, order = 0], me.monkey.gateway.filter.AuthFilter@5c5152c4, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@565c887e}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@8f374de}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@416c1b0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@426913c4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5c215642}, order = 2147483647]]
2020-09-16 11:35:55 134198 [http-nio-8191-exec-5] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:35:55 134199 [http-nio-8191-exec-5] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:35:55 134199 [http-nio-8191-exec-5] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:35:55 134289 [http-nio-8191-exec-5] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 11:35:55 134296 [http-nio-8191-exec-5] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 11:35:56 134417 [http-nio-8191-exec-5] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 11:35:56 135248 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:35:56 135283 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xea32905a] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:35:56 135295 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:35:56 135295 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:35:56 135295 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:35:56 135305 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:35:56 135306 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:35:56 135310 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:35:56 135343 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:35:57 136164 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:35:57 GMT]
2020-09-16 11:35:57 136164 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:35:57 136182 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:35:57 136188 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:35:57 136218 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:35:57 136219 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:35:57 136219 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:35:57 136221 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:36:57 196187 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xea32905a, L:/192.168.50.124:62424 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xea32905a, L:/192.168.50.124:62424 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:37:25 11427 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:37:26 11968 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:37:26 11984 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:37:28 14145 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:37:28 14468 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:37:28 14468 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@37aea657
2020-09-16 11:37:33 19031 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19050 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19061 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19086 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19092 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19093 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19097 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19100 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19102 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19103 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19105 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19106 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19107 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19109 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19110 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19111 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19112 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19114 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:37:33 19115 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:37:33 19117 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:37:33 19119 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:38:18 64187 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:18 64191 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:18 64191 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3f27c389] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:18 64192 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:19 65599 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:38:19 65600 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:38:19 65601 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:38:19 65678 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 11:38:19 65685 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 11:38:20 65799 [http-nio-8191-exec-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 11:38:20 66634 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:38:20 66668 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xc9d70515] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:38:20 66680 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:38:20 66681 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:38:20 66681 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:38:20 66694 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:38:20 66696 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:20 66700 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:21 66741 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:21 66886 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:21 GMT]
2020-09-16 11:38:21 66886 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:21 66904 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:21 66909 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:21 66953 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:21 66964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:21 66964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:21 66974 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:22 67742 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:22 67743 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:22 67743 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [15af140e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:22 67743 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:22 67749 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:22 67750 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:22 67750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:22 67751 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:22 67851 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:21 GMT]
2020-09-16 11:38:22 67851 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:22 67852 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:22 67852 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:22 67854 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:22 67854 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:22 67854 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:22 67855 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:22 68548 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:22 68548 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:22 68548 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [571ff841] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:22 68548 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:22 68551 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:22 68551 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:22 68551 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:22 68553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:22 68671 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:22 GMT]
2020-09-16 11:38:22 68671 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:22 68673 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:22 68673 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:22 68675 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:22 68675 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:22 68675 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:22 68675 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:23 69247 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:23 69247 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:23 69247 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2d41ba90] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:23 69248 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:23 69250 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:23 69250 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:23 69250 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:23 69251 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:23 69368 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:22 GMT]
2020-09-16 11:38:23 69368 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:23 69371 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:23 69372 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:23 69375 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:23 69375 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:23 69375 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:23 69375 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:24 69949 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:24 69949 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:24 69949 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [727b746f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:24 69950 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:24 69954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:24 69955 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:24 69959 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:24 69962 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:24 70048 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:24 GMT]
2020-09-16 11:38:24 70048 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:24 70049 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:24 70049 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:24 70050 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:24 70051 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:24 70051 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:24 70051 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:25 70900 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:25 70900 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:25 70900 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1a272ff1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:25 70901 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:25 70903 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:25 70904 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:25 70904 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:25 70905 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:25 70988 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:24 GMT]
2020-09-16 11:38:25 70989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:25 70990 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:25 70991 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:25 70993 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:25 70993 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:25 70994 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:25 70994 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:25 71563 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:25 71563 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:25 71563 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7680cab7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:25 71563 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:25 71567 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:25 71567 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:25 71567 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:25 71568 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:25 71666 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:25 GMT]
2020-09-16 11:38:25 71666 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:25 71668 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:25 71670 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:25 71674 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:25 71674 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:25 71674 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:25 71675 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:26 72234 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:26 72234 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:26 72234 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [49a93ce3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:26 72234 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:26 72237 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:26 72238 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:26 72238 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:26 72239 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:26 72401 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:25 GMT]
2020-09-16 11:38:26 72401 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:26 72403 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:26 72403 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:26 72406 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:26 72407 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:26 72407 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:26 72407 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:27 72909 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:27 72909 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:27 72909 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [37ebf668] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:27 72909 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:27 72912 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:27 72912 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:27 72912 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:27 72913 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:27 72977 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:27 GMT]
2020-09-16 11:38:27 72977 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:27 72978 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:27 72979 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:27 72980 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:27 72980 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:27 72980 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:27 72980 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:27 73564 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:27 73565 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:27 73566 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4b25eaa4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:27 73567 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:27 73580 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:27 73580 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:27 73580 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:27 73581 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:27 73701 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:27 GMT]
2020-09-16 11:38:27 73701 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:27 73702 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:27 73702 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:27 73704 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:27 73704 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:27 73704 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:27 73704 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:28 74309 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:28 74309 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:28 74309 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [347b6fbe] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:28 74310 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:28 74313 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:28 74313 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:28 74313 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:28 74314 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:28 74409 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:28 GMT]
2020-09-16 11:38:28 74409 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:28 74412 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:28 74412 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:28 74415 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:28 74415 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:28 74415 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:28 74416 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:29 74983 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:29 74986 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:29 74987 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [26ce0596] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:29 74987 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:29 75000 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:29 75000 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:29 75000 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:29 75001 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:29 75082 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:28 GMT]
2020-09-16 11:38:29 75082 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:29 75083 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:29 75084 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:29 75085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:29 75085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:29 75085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:29 75085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:29 75723 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:29 75723 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:29 75723 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3c53a8af] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:29 75723 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:29 75725 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:29 75726 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:29 75726 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:29 75726 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:30 75814 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:30 GMT]
2020-09-16 11:38:30 75814 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:30 75815 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:30 75815 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:30 75817 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:30 75817 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:30 75817 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:30 75817 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:30 76350 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:30 76350 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:30 76351 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7cc41a25] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:30 76351 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:30 76355 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:30 76355 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:30 76355 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:30 76356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:30 76462 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:30 GMT]
2020-09-16 11:38:30 76462 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:30 76463 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:30 76464 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:30 76466 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:30 76467 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:30 76467 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:30 76467 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:31 76986 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:31 76986 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:31 76986 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [26285fde] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:31 76987 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:31 76988 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:31 76989 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:31 76989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:31 76990 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:31 77121 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:31 GMT]
2020-09-16 11:38:31 77121 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:31 77122 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:31 77123 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:31 77124 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:31 77124 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:31 77124 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:31 77125 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:31 77649 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:31 77649 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:31 77649 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [109cb791] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:31 77652 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:31 77656 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:31 77656 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:31 77657 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:31 77657 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:32 77827 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:31 GMT]
2020-09-16 11:38:32 77828 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:32 77830 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:32 77830 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:32 77833 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:32 77833 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:32 77833 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:32 77833 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:32 78315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:32 78315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:32 78315 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4a332887] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:32 78315 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:32 78317 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:32 78317 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:32 78318 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:32 78318 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:32 78463 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:32 GMT]
2020-09-16 11:38:32 78463 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:32 78465 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:32 78465 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:32 78468 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:32 78468 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:32 78468 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:32 78468 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:33 78924 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:33 78924 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:33 78924 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [29fa3090] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:33 78925 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:33 78929 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:33 78929 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:33 78930 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:33 78931 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:33 79198 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:32 GMT]
2020-09-16 11:38:33 79198 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:33 79202 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:33 79202 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:33 79205 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:33 79205 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:33 79205 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:33 79205 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:33 79560 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:33 79561 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:33 79561 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7e386ba2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:33 79561 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:33 79563 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:33 79564 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:33 79564 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:33 79564 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:34 79765 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:34 GMT]
2020-09-16 11:38:34 79765 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:34 79765 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:34 79766 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:34 79767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:34 79767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:34 79767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:34 79767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:34 80303 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:34 80303 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:34 80303 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [35b110a9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:34 80303 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:34 80305 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:34 80306 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:34 80307 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:34 80308 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:34 80525 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:34 GMT]
2020-09-16 11:38:34 80525 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:34 80527 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:34 80528 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:34 80531 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:34 80532 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:34 80532 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:34 80532 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:38:35 81054 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:38:35 81054 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:38:35 81054 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3abe2acf] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5ef82bfc
2020-09-16 11:38:35 81054 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@48d464cf}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5a3be84}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@247dcbba}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@77307b51}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1cca2e9d}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4cefa0be}, order = 0], me.monkey.gateway.filter.AuthFilter@c559fd8, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1e14b269}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1999e1f5}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@77d3c3d7}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@b1fa523}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@68543a35}, order = 2147483647]]
2020-09-16 11:38:35 81056 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:38:35 81056 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:38:35 81056 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:38:35 81057 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:38:35 81158 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:38:35 GMT]
2020-09-16 11:38:35 81158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:38:35 81159 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:38:35 81160 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:38:35 81162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:38:35 81162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:38:35 81162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:38:35 81162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:39:07 113034 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc9d70515, L:/192.168.50.124:63938 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc9d70515, L:/192.168.50.124:63938 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:39:26 11609 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:39:26 12256 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:39:26 12270 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:39:29 14752 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:39:29 14983 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:39:29 14983 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@2823b7c5
2020-09-16 11:39:34 19609 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19628 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19639 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19660 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19664 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19666 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19667 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19669 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19670 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19672 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19673 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19674 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19674 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19675 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19676 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19677 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19678 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19678 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:39:34 19681 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:39:34 19682 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:39:34 19683 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:40:17 62711 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:17 62715 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:17 62715 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6c62c915] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:17 62716 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:18 64230 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:40:18 64231 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:40:18 64232 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:40:18 64312 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 11:40:18 64318 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 11:40:18 64432 [http-nio-8191-exec-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 11:40:19 65294 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:40:19 65327 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xcdd2f698] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:40:19 65338 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:40:19 65338 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:40:19 65338 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:40:19 65349 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:40:19 65350 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:19 65353 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:19 65386 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:19 65505 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:19 GMT]
2020-09-16 11:40:19 65505 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:19 65521 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:19 65526 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:19 65555 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:19 65555 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:19 65555 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:19 65557 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:20 66326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:20 66326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:20 66326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2ce6707c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:20 66327 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:20 66332 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:20 66332 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:20 66332 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:20 66334 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:20 66442 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:19 GMT]
2020-09-16 11:40:20 66442 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:20 66443 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:20 66444 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:20 66447 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:20 66447 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:20 66447 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:20 66447 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:21 67054 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:21 67054 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:21 67054 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [69acdf9d] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:21 67054 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:21 67057 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:21 67057 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:21 67058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:21 67059 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:21 67238 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:21 GMT]
2020-09-16 11:40:21 67238 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:21 67239 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:21 67240 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:21 67242 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:21 67243 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:21 67243 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:21 67243 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:22 67763 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:22 67764 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:22 67764 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [32c56756] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:22 67764 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:22 67767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:22 67767 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:22 67767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:22 67768 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:22 67884 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:21 GMT]
2020-09-16 11:40:22 67884 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:22 67886 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:22 67887 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:22 67891 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:22 67892 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:22 67892 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:22 67892 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:22 68430 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:22 68430 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:22 68430 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [47f4cdea] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:22 68430 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:22 68433 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:22 68433 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:22 68434 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:22 68439 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:23 68596 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:23 GMT]
2020-09-16 11:40:23 68597 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:23 68598 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:23 68598 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:23 68600 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:23 68600 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:23 68600 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:23 68600 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:23 69137 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:23 69137 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:23 69137 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [22beddee] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:23 69137 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:23 69140 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:23 69140 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:23 69141 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:23 69142 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:23 69377 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:23 GMT]
2020-09-16 11:40:23 69377 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:23 69379 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:23 69380 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:23 69383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:23 69383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:23 69383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:23 69383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:24 69883 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:24 69883 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:24 69883 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [369d2ddf] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:24 69884 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:24 69887 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:24 69887 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:24 69887 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:24 69888 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:24 69961 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:24 GMT]
2020-09-16 11:40:24 69961 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:24 69962 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:24 69962 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:24 69964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:24 69964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:24 69964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:24 69964 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:25 70589 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:25 70589 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:25 70589 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [253f39ad] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:25 70589 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:25 70593 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:25 70593 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:25 70595 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:25 70596 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:25 70767 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:24 GMT]
2020-09-16 11:40:25 70767 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:25 70768 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:25 70769 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:25 70772 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:25 70772 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:25 70772 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:25 70772 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:25 71522 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:25 71522 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:25 71522 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [34f31971] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:25 71522 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:25 71526 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:25 71526 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:25 71526 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:25 71527 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:26 71714 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:26 GMT]
2020-09-16 11:40:26 71715 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:26 71716 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:26 71716 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:26 71717 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:26 71718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:26 71718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:26 71718 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:26 72258 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:26 72258 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:26 72258 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [202c6853] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:26 72258 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:26 72260 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:26 72261 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:26 72261 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:26 72262 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:26 72353 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:26 GMT]
2020-09-16 11:40:26 72353 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:26 72354 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:26 72354 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:26 72356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:26 72356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:26 72356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:26 72356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:27 72914 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:27 72914 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:27 72914 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [72564cbc] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:27 72914 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:27 72918 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:27 72918 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:27 72918 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:27 72919 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:27 73033 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:27 GMT]
2020-09-16 11:40:27 73034 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:27 73036 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:27 73037 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:27 73040 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:27 73041 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:27 73041 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:27 73041 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:28 73558 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:28 73558 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:28 73558 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [eca315f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:28 73558 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:28 73562 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:28 73562 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:28 73562 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:28 73565 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:28 73640 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:27 GMT]
2020-09-16 11:40:28 73640 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:28 73642 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:28 73642 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:28 73644 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:28 73644 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:28 73645 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:28 73645 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:28 74180 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:28 74180 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:28 74180 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [19c0a0b9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:28 74180 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:28 74182 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:28 74182 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:28 74183 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:28 74183 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:28 74267 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:28 GMT]
2020-09-16 11:40:28 74267 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:28 74269 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:28 74269 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:28 74271 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:28 74272 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:28 74272 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:28 74272 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:29 74811 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:29 74811 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:29 74811 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [c481a80] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:29 74811 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:29 74813 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:29 74814 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:29 74814 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:29 74826 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:29 74926 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:28 GMT]
2020-09-16 11:40:29 74926 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:29 74927 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:29 74928 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:29 74935 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:29 74935 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:29 74935 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:29 74935 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:29 75498 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:29 75498 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:29 75498 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [70b075f1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:29 75499 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:29 75501 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:29 75501 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:29 75501 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:29 75502 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:30 75656 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:30 GMT]
2020-09-16 11:40:30 75657 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:30 75659 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:30 75661 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:30 75664 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:30 75664 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:30 75664 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:30 75665 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:30 76067 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:30 76067 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:30 76067 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [62546eb9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:30 76067 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:30 76070 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:30 76071 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:30 76071 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:30 76072 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:30 76161 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:30 GMT]
2020-09-16 11:40:30 76161 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:30 76163 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:30 76163 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:30 76164 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:30 76164 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:30 76164 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:30 76164 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:32 78080 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:32 78080 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:32 78080 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7e19a2f4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:32 78080 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:32 78082 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:32 78082 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:32 78082 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:32 78083 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:32 78194 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:32 GMT]
2020-09-16 11:40:32 78194 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:32 78195 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:32 78195 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:32 78197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:32 78197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:32 78197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:32 78197 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:33 78682 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:33 78682 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:33 78682 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5144c7b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:33 78682 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:33 78685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:33 78685 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:33 78685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:33 78686 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:33 78815 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:32 GMT]
2020-09-16 11:40:33 78815 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:33 78816 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:33 78816 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:33 78818 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:33 78818 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:33 78818 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:33 78818 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:33 79156 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:33 79156 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:33 79156 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [715c7f59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:33 79156 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:33 79158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:33 79158 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:33 79158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:33 79159 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:33 79366 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:33 GMT]
2020-09-16 11:40:33 79366 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:33 79367 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:33 79367 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:33 79368 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:33 79368 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:33 79368 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:33 79369 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:34 79575 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:34 79576 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:34 79576 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [72d0894c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:34 79576 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:34 79578 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:34 79578 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:34 79578 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:34 79579 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:34 79685 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:33 GMT]
2020-09-16 11:40:34 79686 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:34 79687 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:34 79687 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:34 79689 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:34 79689 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:34 79689 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:34 79689 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:36 81747 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:36 81748 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:36 81748 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [61496d6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:36 81748 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:36 81750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:36 81750 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:36 81750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:36 81751 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:36 81985 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:36 GMT]
2020-09-16 11:40:36 81986 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:36 81987 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:36 81987 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:36 81989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:36 81990 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:36 81990 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:36 81990 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:36 82521 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:36 82521 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:36 82521 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [423d3155] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:36 82521 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:36 82523 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:36 82524 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:36 82526 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:36 82527 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:37 82580 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:36 GMT]
2020-09-16 11:40:37 82580 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:37 82580 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:37 82581 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:37 82582 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:37 82582 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:37 82582 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:37 82582 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:38 84003 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:38 84003 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:38 84003 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4939c06] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:38 84003 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:38 84005 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:38 84005 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:38 84006 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:38 84007 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:38 84064 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:38 GMT]
2020-09-16 11:40:38 84064 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:38 84065 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:38 84065 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:38 84067 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:38 84067 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:38 84067 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:38 84067 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:38 84536 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:38 84536 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:38 84536 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [303f8d2c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:38 84537 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:38 84539 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:38 84539 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:38 84539 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:38 84540 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:39 84662 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:38 GMT]
2020-09-16 11:40:39 84662 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:39 84663 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:39 84663 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:39 84665 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:39 84665 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:39 84665 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:39 84665 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:39 84985 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:39 84985 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:39 84985 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7f592617] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:39 84985 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:39 84989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:39 84989 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:39 84989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:39 84990 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:39 85196 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:39 GMT]
2020-09-16 11:40:39 85196 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:39 85197 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:39 85197 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:39 85199 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:39 85200 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:39 85200 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:39 85200 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:40 85657 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:40 85657 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:40 85657 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1bec59a4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:40 85657 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:40 85660 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:40 85660 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:40 85660 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:40 85661 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:40 85825 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:39 GMT]
2020-09-16 11:40:40 85825 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:40 85826 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:40 85826 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:40 85828 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:40 85828 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:40 85828 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:40 85828 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:40 86220 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:40 86220 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:40 86220 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [e73884b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:40 86220 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:40 86222 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:40 86222 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:40 86222 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:40 86223 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:40 86299 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:40 GMT]
2020-09-16 11:40:40 86299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:40 86299 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:40 86300 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:40 86301 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:40 86301 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:40 86301 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:40 86301 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:41 86784 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:41 86784 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:41 86784 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7b753609] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:41 86784 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:41 86787 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:41 86787 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:41 86787 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:41 86788 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:41 86895 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:40 GMT]
2020-09-16 11:40:41 86895 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:41 86896 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:41 86896 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:41 86897 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:41 86898 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:41 86898 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:41 86898 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:41 87331 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:41 87331 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:41 87331 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2e94e1e9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:41 87332 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:41 87333 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:41 87334 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:41 87334 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:41 87335 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:41 87512 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:41 GMT]
2020-09-16 11:40:41 87512 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:41 87513 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:41 87513 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:41 87514 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:41 87514 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:41 87514 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:41 87514 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:42 87812 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:42 87812 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:42 87812 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5d103bbc] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:42 87812 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:42 87814 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:42 87814 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:42 87814 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:42 87815 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:42 87953 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:41 GMT]
2020-09-16 11:40:42 87954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:42 87954 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:42 87954 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:42 87955 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:42 87955 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:42 87955 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:42 87955 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:42 88381 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:42 88382 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:42 88382 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [77fc429d] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:42 88382 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:42 88383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:42 88383 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:42 88383 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:42 88384 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:43 88576 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:43 GMT]
2020-09-16 11:40:43 88576 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:43 88577 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:43 88578 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:43 88580 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:43 88581 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:43 88581 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:43 88581 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:43 88855 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:43 88855 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:43 88855 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [f293c3e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:43 88856 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:43 88858 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:43 88859 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:43 88859 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:43 88859 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:43 89031 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:43 GMT]
2020-09-16 11:40:43 89031 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:43 89032 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:43 89033 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:43 89036 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:43 89036 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:43 89036 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:43 89036 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:43 89409 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:43 89410 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:43 89410 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [19c2fd3e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:43 89410 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:43 89412 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:43 89412 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:43 89412 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:43 89413 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:43 89470 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:43 GMT]
2020-09-16 11:40:43 89471 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:43 89471 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:43 89471 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:43 89472 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:43 89472 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:43 89472 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:43 89473 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:44 89902 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:44 89902 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:44 89902 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39fc030d] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:44 89902 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:44 89904 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:44 89904 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:44 89904 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:44 89905 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:44 89987 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:44 GMT]
2020-09-16 11:40:44 89987 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:44 89988 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:44 89988 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:44 89989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:44 89989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:44 89989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:44 89989 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:44 90383 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:44 90383 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:44 90383 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [39223e64] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:44 90383 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:44 90384 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:44 90384 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:44 90387 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:44 90390 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:45 90559 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:44 GMT]
2020-09-16 11:40:45 90560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:45 90560 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:45 90560 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:45 90561 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:45 90561 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:45 90561 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:45 90562 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:45 90946 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:45 90946 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:45 90946 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [79a09bc3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:45 90946 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:45 90948 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:45 90948 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:45 90948 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:45 90949 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:45 91002 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:45 GMT]
2020-09-16 11:40:45 91002 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:45 91003 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:45 91003 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:45 91005 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:45 91005 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:45 91005 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:45 91005 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:45 91479 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:45 91480 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:45 91480 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5190eb4e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:45 91480 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:45 91482 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:45 91482 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:45 91482 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:45 91483 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:45 91538 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:45 GMT]
2020-09-16 11:40:45 91538 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:45 91539 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:45 91539 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:45 91540 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:45 91540 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:45 91540 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:45 91540 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:40:46 91970 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:40:46 91970 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:40:46 91970 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [dccbdce] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@445321e3
2020-09-16 11:40:46 91971 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2cbc2db2}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@3cae4518}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@75dbe490}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6167c42f}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@61e0f9b9}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@4a86be01}, order = 0], me.monkey.gateway.filter.AuthFilter@210cf2a5, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2de96eba}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@22846a1d}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c7c898a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@fe38c0e}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3ef914f5}, order = 2147483647]]
2020-09-16 11:40:46 91973 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:40:46 91973 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:40:46 91977 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:40:46 91978 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:40:46 92056 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:40:46 GMT]
2020-09-16 11:40:46 92056 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:40:46 92056 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:40:46 92057 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:40:46 92058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:40:46 92058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:40:46 92058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:40:46 92058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:41:46 152087 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xcdd2f698, L:/192.168.50.124:65196 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xcdd2f698, L:/192.168.50.124:65196 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:44:51 11333 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:44:51 11913 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:44:51 11927 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:44:54 14145 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:44:54 14430 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:44:54 14430 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@7dd2a5f7
2020-09-16 11:44:59 19129 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19148 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19158 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19176 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19179 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19180 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19183 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19185 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19186 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19188 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19189 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19190 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19191 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19192 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19192 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19193 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19194 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19195 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:44:59 19199 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:44:59 19200 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:44:59 19201 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:45:21 41239 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:21 41243 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:21 41244 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6502fe28] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:21 41245 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:22 42729 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:45:22 42730 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:45:22 42731 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:45:22 42833 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 11:45:22 42838 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 11:45:22 42969 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 11:45:23 43796 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:45:23 43827 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x69f9892b] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:45:23 43836 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:45:23 43836 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:45:23 43837 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:45:23 43846 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:45:23 43847 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:23 43850 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:23 43882 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:24 44090 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:24 GMT]
2020-09-16 11:45:24 44091 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:24 44110 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:24 44116 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:24 44144 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:24 44145 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:24 44145 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:24 44148 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:26 46627 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:26 46627 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:26 46627 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4618409] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:26 46627 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:26 46630 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:26 46631 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:26 46631 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:26 46632 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:26 46821 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:26 GMT]
2020-09-16 11:45:26 46822 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:26 46824 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:26 46826 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:26 46830 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:26 46830 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:26 46831 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:26 46831 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:27 47471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:27 47471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:27 47471 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [341cd5a3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:27 47471 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:27 47476 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:27 47477 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:27 47477 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:27 47478 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:27 47640 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:26 GMT]
2020-09-16 11:45:27 47641 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:27 47643 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:27 47645 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:27 47649 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:27 47649 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:27 47649 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:27 47649 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:28 48181 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:28 48182 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:28 48182 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [f1905b4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:28 48182 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:28 48184 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:28 48184 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:28 48185 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:28 48185 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:28 48387 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:28 GMT]
2020-09-16 11:45:28 48387 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:28 48389 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:28 48390 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:28 48393 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:28 48394 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:28 48394 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:28 48394 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:28 48928 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:28 48928 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:28 48928 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5f81a6cf] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:28 48928 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:28 48932 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:28 48932 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:28 48932 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:28 48937 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:29 49162 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:28 GMT]
2020-09-16 11:45:29 49162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:29 49164 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:29 49166 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:29 49170 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:29 49170 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:29 49171 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:29 49171 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:29 49717 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:29 49717 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:29 49717 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2f8b11bc] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:29 49717 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:29 49719 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:29 49719 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:29 49719 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:29 49721 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:29 49880 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:29 GMT]
2020-09-16 11:45:29 49881 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:29 49882 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:29 49883 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:29 49886 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:29 49887 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:29 49887 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:29 49887 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:30 50416 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:30 50417 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:30 50417 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [535ec49b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:30 50417 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:30 50422 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:30 50422 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:30 50422 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:30 50423 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:30 50630 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:29 GMT]
2020-09-16 11:45:30 50630 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:30 50635 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:30 50637 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:30 50640 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:30 50640 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:30 50640 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:30 50640 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:31 51227 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:31 51228 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:31 51228 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [18ec71a8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:31 51228 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:31 51230 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:31 51230 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:31 51230 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:31 51231 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:31 51393 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:31 GMT]
2020-09-16 11:45:31 51393 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:31 51396 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:31 51396 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:31 51399 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:31 51400 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:31 51400 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:31 51400 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:45:31 51919 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:45:31 51919 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:45:31 51919 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2410a2aa] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:45:31 51919 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:45:31 51922 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:45:31 51922 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:45:31 51923 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:45:31 51924 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:45:32 52095 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:45:31 GMT]
2020-09-16 11:45:32 52095 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:45:32 52096 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:45:32 52096 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:45:32 52098 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:45:32 52098 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:45:32 52098 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:45:32 52098 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:46:32 112123 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x69f9892b, L:/192.168.50.124:52756 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x69f9892b, L:/192.168.50.124:52756 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:47:10 150582 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:47:10 150583 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:47:10 150583 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1c57f082] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:47:10 150583 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:47:10 150589 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:47:10 150589 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x0e48cb52] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:47:10 150591 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:47:10 150591 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:47:10 150591 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:47:10 150591 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:47:10 150591 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:47:10 150592 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:47:10 150593 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:47:10 150663 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:47:10 GMT]
2020-09-16 11:47:10 150663 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:47:10 150664 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:47:10 150665 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:47:10 150668 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:47:10 150668 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:47:10 150668 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:47:10 150668 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:47:11 151766 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:47:11 151766 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:47:11 151766 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7eb9b4a4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@591c8935
2020-09-16 11:47:11 151766 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4fea095b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@7771c4e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7c47b0f8}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@41c88e00}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@261609a7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7dfca9e6}, order = 0], me.monkey.gateway.filter.AuthFilter@7b38b66, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@354e2bff}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@62f305bc}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@39296cef}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@729c8def}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@232b3b4c}, order = 2147483647]]
2020-09-16 11:47:11 151769 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:47:11 151769 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:47:11 151769 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:47:11 151770 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:47:11 151926 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:47:11 GMT]
2020-09-16 11:47:11 151926 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:47:11 151927 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:47:11 151928 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:47:11 151929 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:47:11 151929 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:47:11 151930 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:47:11 151930 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:47:52 192332 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0e48cb52, L:/192.168.50.124:53877 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x0e48cb52, L:/192.168.50.124:53877 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 11:48:12 12581 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 11:48:12 13165 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 11:48:12 13182 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 11:48:14 15432 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 11:48:15 15778 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 11:48:15 15779 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1b984ba5
2020-09-16 11:48:19 20400 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:19 20422 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:19 20431 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:19 20449 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20453 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20455 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:20 20463 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20464 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20465 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:20 20467 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20469 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20473 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:20 20474 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20475 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20476 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:20 20476 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20477 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:48:20 20478 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20478 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:48:20 20478 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:48:20 20479 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:49:20 81087 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:49:20 81090 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:49:20 81091 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [53c67cd5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@463a13ae
2020-09-16 11:49:20 81091 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3acc65f0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@534d0cfa}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14293540}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7d7a8d23}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@f98cff}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6244afc4}, order = 0], me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@59ec5a0b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@a5d23c9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@59c38af5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@795131d6}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29431f61}, order = 2147483647]]
2020-09-16 11:49:22 82529 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 11:49:22 82530 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 11:49:22 82531 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 11:49:22 82613 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 11:49:22 82620 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 11:49:22 82764 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 11:49:23 83573 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 11:49:23 83609 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xb51fac3d] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 11:49:23 83621 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 11:49:23 83622 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 11:49:23 83622 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 11:49:23 83634 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 11:49:23 83635 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:49:23 83639 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:49:23 83685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:49:23 83786 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:49:23 GMT]
2020-09-16 11:49:23 83786 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:49:23 83802 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:49:23 83806 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:49:23 83834 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:49:23 83834 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:49:23 83834 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:49:23 83836 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:49:24 84608 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:49:24 84608 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:49:24 84608 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1ee00bbd] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@463a13ae
2020-09-16 11:49:24 84608 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3acc65f0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@534d0cfa}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14293540}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7d7a8d23}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@f98cff}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6244afc4}, order = 0], me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@59ec5a0b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@a5d23c9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@59c38af5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@795131d6}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29431f61}, order = 2147483647]]
2020-09-16 11:49:24 84614 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:49:24 84615 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:49:24 84615 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:49:24 84621 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:49:24 84745 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:49:23 GMT]
2020-09-16 11:49:24 84746 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:49:24 84747 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:49:24 84747 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:49:24 84749 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:49:24 84750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:49:24 84750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:49:24 84750 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:49:24 85321 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:49:24 85321 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:49:24 85321 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1a9d5b4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@463a13ae
2020-09-16 11:49:24 85321 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3acc65f0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@534d0cfa}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14293540}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7d7a8d23}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@f98cff}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6244afc4}, order = 0], me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@59ec5a0b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@a5d23c9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@59c38af5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@795131d6}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29431f61}, order = 2147483647]]
2020-09-16 11:49:24 85324 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:49:24 85324 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:49:24 85324 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:49:24 85325 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:49:25 85514 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:49:25 GMT]
2020-09-16 11:49:25 85515 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:49:25 85517 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:49:25 85518 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:49:25 85521 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:49:25 85521 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:49:25 85522 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:49:25 85522 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:49:25 86018 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 11:49:25 86018 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 11:49:25 86018 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [38a7ad10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@463a13ae
2020-09-16 11:49:25 86018 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3acc65f0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@534d0cfa}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14293540}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7d7a8d23}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@f98cff}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6244afc4}, order = 0], me.monkey.gateway.filter.AuthFilter@14904eff, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@59ec5a0b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@a5d23c9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@59c38af5}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@795131d6}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29431f61}, order = 2147483647]]
2020-09-16 11:49:25 86020 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 11:49:25 86022 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 11:49:25 86024 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 11:49:25 86025 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 11:49:25 86124 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 03:49:25 GMT]
2020-09-16 11:49:25 86124 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 11:49:25 86125 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 11:49:25 86126 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 11:49:25 86128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 11:49:25 86128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 11:49:25 86128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 11:49:25 86128 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 11:50:25 146158 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xb51fac3d, L:/192.168.50.124:55380 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xb51fac3d, L:/192.168.50.124:55380 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 13:34:54 11639 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 13:34:55 12171 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 13:34:55 12188 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 13:34:57 14451 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 13:34:57 14641 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 13:34:57 14641 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@656672fb
2020-09-16 13:35:02 19344 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19365 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19374 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19394 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19397 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19399 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19401 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19402 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19404 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19405 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19406 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19407 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19408 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19409 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19410 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19412 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19413 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19414 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:35:02 19420 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:35:02 19421 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:35:02 19422 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:36:05 82604 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:36:05 82608 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:36:05 82608 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [35e3ba51] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@78733941
2020-09-16 13:36:05 82609 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5f32ab17}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@64b8eb96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@63636de0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ae6451d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3a45308f}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@3cc817bd}, order = 0], me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@54530644}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@67cd84f9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@70e54ec3}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52b891de}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@42734b71}, order = 2147483647]]
2020-09-16 13:36:07 84190 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:36:07 84192 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:36:07 84193 [http-nio-8191-exec-2] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:36:07 84275 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 13:36:07 84283 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 13:36:07 84380 [http-nio-8191-exec-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 13:36:08 85234 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 13:36:08 85269 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x55b52cb3] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 13:36:08 85283 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 13:36:08 85284 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 13:36:08 85284 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 13:36:08 85294 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 13:36:08 85295 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:36:08 85299 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:36:08 85337 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:36:08 85514 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:36:08 GMT]
2020-09-16 13:36:08 85514 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:36:08 85533 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:36:08 85538 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:36:08 85571 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:36:08 85571 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:36:08 85571 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:36:08 85573 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:36:09 86730 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:36:09 86730 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:36:09 86731 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [38acf2a1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@78733941
2020-09-16 13:36:09 86731 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5f32ab17}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@64b8eb96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@63636de0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ae6451d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3a45308f}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@3cc817bd}, order = 0], me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@54530644}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@67cd84f9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@70e54ec3}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52b891de}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@42734b71}, order = 2147483647]]
2020-09-16 13:36:09 86736 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:36:09 86736 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:36:09 86736 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:36:09 86742 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:36:10 86898 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:36:10 GMT]
2020-09-16 13:36:10 86898 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:36:10 86899 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:36:10 86900 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:36:10 86902 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:36:10 86902 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:36:10 86902 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:36:10 86902 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:36:10 87516 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:36:10 87517 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:36:10 87517 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [32a250f9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@78733941
2020-09-16 13:36:10 87517 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5f32ab17}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@64b8eb96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@63636de0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ae6451d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3a45308f}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@3cc817bd}, order = 0], me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@54530644}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@67cd84f9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@70e54ec3}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52b891de}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@42734b71}, order = 2147483647]]
2020-09-16 13:36:10 87523 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:36:10 87523 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:36:10 87524 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:36:10 87525 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:36:10 87676 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:36:10 GMT]
2020-09-16 13:36:10 87677 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:36:10 87679 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:36:10 87681 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:36:10 87685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:36:10 87685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:36:10 87685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:36:10 87685 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:36:11 88443 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:36:11 88443 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:36:11 88443 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6e50f652] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@78733941
2020-09-16 13:36:11 88444 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5f32ab17}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@64b8eb96}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@63636de0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4ae6451d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3a45308f}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@3cc817bd}, order = 0], me.monkey.gateway.filter.AuthFilter@44e99750, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@54530644}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@67cd84f9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@70e54ec3}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@52b891de}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@42734b71}, order = 2147483647]]
2020-09-16 13:36:11 88447 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:36:11 88447 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:36:11 88448 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:36:11 88449 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:36:11 88544 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:36:11 GMT]
2020-09-16 13:36:11 88545 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:36:11 88548 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:36:11 88551 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:36:11 88559 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:36:11 88560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:36:11 88560 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:36:11 88561 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:37:11 148585 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x55b52cb3, L:/192.168.50.124:58378 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x55b52cb3, L:/192.168.50.124:58378 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 13:44:35 11797 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}]
2020-09-16 13:44:36 12375 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 13:44:36 12390 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 13:44:38 14936 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 13:44:38 15150 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 13:44:38 15150 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@4f3e65f4
2020-09-16 13:44:41 18147 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:41 18170 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:41 18184 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:41 18193 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:41 18197 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:41 18197 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [193d9b33] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:41 18198 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:43 19934 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:43 19935 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:43 19936 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:43 20027 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 13:44:43 20035 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 13:44:43 20166 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 13:44:44 20568 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20569 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20570 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20608 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20610 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20611 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20612 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20613 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20614 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20620 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20621 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20622 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20623 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20624 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20625 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20636 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20637 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20638 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 20638 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:44:44 20639 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:44:44 20641 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:44:44 21181 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 13:44:45 21214 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x0ceed155] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 13:44:45 21225 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 13:44:45 21226 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 13:44:45 21226 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 13:44:45 21236 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 13:44:45 21237 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:45 21243 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:45 21276 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:45 21549 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:45 GMT]
2020-09-16 13:44:45 21549 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:45 21566 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:45 21570 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:45 21599 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:45 21599 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:45 21599 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:45 21601 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:46 22446 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:46 22446 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:46 22446 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3053e5a5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:46 22446 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:46 22449 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:46 22450 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:46 22450 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:46 22451 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:46 22586 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:46 GMT]
2020-09-16 13:44:46 22586 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:46 22587 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:46 22588 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:46 22589 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:46 22590 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:46 22590 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:46 22590 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:46 23179 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:46 23179 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:46 23179 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [451a98dd] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:46 23179 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:46 23182 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:46 23182 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:46 23182 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:46 23183 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:47 23343 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:46 GMT]
2020-09-16 13:44:47 23343 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:47 23345 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:47 23345 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:47 23347 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:47 23347 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:47 23347 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:47 23347 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:47 23754 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:47 23755 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:47 23755 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4a98f118] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:47 23755 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:47 23757 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:47 23757 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:47 23764 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:47 23766 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:47 23981 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:47 GMT]
2020-09-16 13:44:47 23981 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:47 23982 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:47 23983 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:47 23985 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:47 23986 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:47 23986 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:47 23986 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:48 24426 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:48 24427 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:48 24427 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1ee00bbd] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:48 24427 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:48 24431 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:48 24436 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:48 24436 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:48 24439 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:48 24550 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:47 GMT]
2020-09-16 13:44:48 24550 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:48 24551 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:48 24552 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:48 24553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:48 24553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:48 24553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:48 24553 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:48 25055 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:48 25056 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:48 25056 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7a5bdec5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:48 25056 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:48 25058 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:48 25058 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:48 25059 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:48 25060 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:48 25162 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:48 GMT]
2020-09-16 13:44:48 25162 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:48 25163 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:48 25164 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:48 25165 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:48 25165 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:48 25165 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:48 25165 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:49 25599 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:49 25599 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:49 25599 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [25710a05] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:49 25600 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:49 25602 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:49 25602 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:49 25602 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:49 25603 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:49 25730 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:48 GMT]
2020-09-16 13:44:49 25730 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:49 25731 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:49 25731 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:49 25733 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:49 25733 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:49 25733 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:49 25733 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:50 26255 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:50 26255 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:50 26255 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1f598c1e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:50 26255 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:50 26258 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:50 26258 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:50 26258 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:50 26259 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:50 26343 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:50 GMT]
2020-09-16 13:44:50 26343 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:50 26344 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:50 26345 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:50 26346 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:50 26346 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:50 26346 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:50 26346 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:50 27070 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:50 27070 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:50 27070 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [142f7976] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:50 27070 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:50 27072 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:50 27073 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:50 27073 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:50 27074 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:51 27231 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:50 GMT]
2020-09-16 13:44:51 27231 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:51 27232 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:51 27232 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:51 27234 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:51 27234 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:51 27234 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:51 27234 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:51 27792 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:51 27792 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:51 27792 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [334c7e14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:51 27792 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:51 27797 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:51 27797 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:51 27798 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:51 27798 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:51 27871 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:51 GMT]
2020-09-16 13:44:51 27871 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:51 27872 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:51 27872 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:51 27874 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:51 27874 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:51 27874 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:51 27874 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:52 28402 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:52 28402 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:52 28402 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [68183bab] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:52 28402 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:52 28404 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:52 28404 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:52 28404 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:52 28405 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:52 28483 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:51 GMT]
2020-09-16 13:44:52 28483 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:52 28484 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:52 28485 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:52 28487 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:52 28487 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:52 28487 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:52 28487 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:44:52 29007 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:44:52 29007 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0]], metadata={}}
2020-09-16 13:44:52 29007 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [35e9fbc] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@388d14fe
2020-09-16 13:44:52 29007 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1ba3c03d}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@4769537a}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@4e1b5532}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@37a0fc8c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4468c0ea}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@53d2b827}, order = 0], me.monkey.gateway.filter.AuthFilter@58c317f, [[AddResponseHeader X-TestHeader = 'foobar2222'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@9a37591}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1831447c}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@41cf4272}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7741507c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@749c0669}, order = 2147483647]]
2020-09-16 13:44:52 29009 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:44:52 29009 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:44:52 29012 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:44:52 29013 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:44:52 29163 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:44:52 GMT]
2020-09-16 13:44:52 29163 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:44:52 29164 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:44:52 29164 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:44:52 29166 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:44:52 29166 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:44:52 29166 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:44:52 29166 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:45:53 89253 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x0ceed155, L:/192.168.50.124:63728 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x0ceed155, L:/192.168.50.124:63728 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 13:49:34 11870 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 13:49:34 12438 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 13:49:34 12454 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 13:49:36 14659 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 13:49:37 14975 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 13:49:37 14975 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@6d5d1204
2020-09-16 13:49:41 19593 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19614 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19623 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19623 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19624 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19625 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19627 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19645 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19649 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19651 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19652 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19653 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19655 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19657 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19659 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19660 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19661 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19662 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19662 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19663 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19664 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19665 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19666 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19667 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19667 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19669 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19670 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19671 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19671 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19672 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19673 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19673 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19673 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19674 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19675 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19675 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19675 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19676 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19676 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19676 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19676 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:41 19677 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19679 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:41 19679 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19680 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:41 19680 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:41 19681 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:41 19682 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:41 19683 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:50 28264 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:49:50 28267 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:49:50 28268 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2a83962c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:49:50 28269 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:49:52 29771 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:49:52 29772 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:52 29773 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:49:52 29774 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:49:52 29776 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:49:52 29777 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:49:52 29778 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:49:52 29886 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 13:49:52 29891 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 13:49:52 30026 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 13:49:53 30885 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 13:49:53 30916 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x2b197a4a] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 13:49:53 30925 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 13:49:53 30926 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 13:49:53 30927 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 13:49:53 30936 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 13:49:53 30937 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:49:53 30941 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:49:53 30980 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:49:54 31950 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:49:54 GMT]
2020-09-16 13:49:54 31950 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:49:54 31971 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:49:54 31977 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:49:54 32008 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:49:54 32009 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:49:54 32009 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:49:54 32013 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:49:55 32938 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:49:55 32938 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:49:55 32938 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [50756e4b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:49:55 32938 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:49:55 32947 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:49:55 32947 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:49:55 32948 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:49:55 32949 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:49:55 33403 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:49:55 GMT]
2020-09-16 13:49:55 33403 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:49:55 33404 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:49:55 33404 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:49:55 33409 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:49:55 33412 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:49:55 33412 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:49:55 33412 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:49:56 34061 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:49:56 34061 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:49:56 34061 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [72cceb5a] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:49:56 34061 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:49:56 34065 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:49:56 34065 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:49:56 34065 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:49:56 34070 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:49:56 34352 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:49:55 GMT]
2020-09-16 13:49:56 34352 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:49:56 34353 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:49:56 34354 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:49:56 34355 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:49:56 34356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:49:56 34356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:49:56 34356 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:49:58 36446 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:49:58 36450 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:49:58 36450 [http-nio-8191-exec-6] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3cb4bf79] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:49:58 36450 [http-nio-8191-exec-6] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:49:58 36453 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:49:58 36453 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:49:58 36453 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:49:58 36454 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:49:59 36756 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:49:59 GMT]
2020-09-16 13:49:59 36757 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:49:59 36758 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:49:59 36758 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:49:59 36760 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:49:59 36760 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:49:59 36760 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:49:59 36760 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:49:59 37419 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:49:59 37420 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:49:59 37420 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [38acf2a1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:49:59 37420 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:49:59 37424 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:49:59 37425 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:49:59 37428 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:49:59 37429 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:50:00 37707 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:49:59 GMT]
2020-09-16 13:50:00 37707 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:50:00 37708 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:50:00 37709 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:50:00 37710 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:50:00 37710 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:50:00 37710 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:50:00 37710 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:50:00 38278 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:50:00 38278 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:50:00 38278 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [71ca13f2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:50:00 38278 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:50:00 38281 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:50:00 38282 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:50:00 38282 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:50:00 38283 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:50:00 38517 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:50:00 GMT]
2020-09-16 13:50:00 38518 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:50:00 38519 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:50:00 38519 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:50:00 38520 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:50:00 38521 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:50:00 38521 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:50:00 38521 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:50:01 39112 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:50:01 39112 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:50:01 39112 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [748d997] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:50:01 39112 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:50:01 39115 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:50:01 39115 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:50:01 39115 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:50:01 39116 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:50:01 39267 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:50:00 GMT]
2020-09-16 13:50:01 39267 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:50:01 39268 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:50:01 39269 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:50:01 39270 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:50:01 39270 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:50:01 39270 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:50:01 39270 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:50:02 39873 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:50:02 39874 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:50:02 39874 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [58f5dff8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:50:02 39874 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:50:02 39882 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:50:02 39882 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:50:02 39883 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:50:02 39883 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:50:02 40082 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:50:02 GMT]
2020-09-16 13:50:02 40082 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:50:02 40083 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:50:02 40083 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:50:02 40085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:50:02 40085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:50:02 40085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:50:02 40085 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:51:02 100112 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x2b197a4a, L:/192.168.50.124:50985 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x2b197a4a, L:/192.168.50.124:50985 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 13:51:16 114029 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:51:16 114030 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:51:16 114031 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:51:16 114032 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:51:16 114033 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:51:16 114033 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:51:16 114034 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:52:12 170468 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 13:52:12 170469 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:52:12 170470 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 13:52:12 170470 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 13:52:12 170471 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 13:52:12 170472 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 13:52:12 170472 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 13:52:29 187002 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:52:29 187003 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:52:29 187003 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6e50f652] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:52:29 187003 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:52:29 187021 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 13:52:29 187021 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xfa173c1e] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 13:52:29 187023 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 13:52:29 187023 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 13:52:29 187024 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 13:52:29 187024 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 13:52:29 187024 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:52:29 187024 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:52:29 187025 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:52:30 188072 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:52:30 GMT]
2020-09-16 13:52:30 188072 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:52:30 188073 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:52:30 188074 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:52:30 188076 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:52:30 188076 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:52:30 188076 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:52:30 188076 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:52:32 190270 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:52:32 190270 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:52:32 190270 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6620b0d5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:52:32 190270 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:52:32 190273 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:52:32 190273 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:52:32 190273 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:52:32 190274 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:52:32 190630 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:52:32 GMT]
2020-09-16 13:52:32 190631 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:52:32 190634 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:52:32 190635 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:52:32 190638 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:52:32 190638 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:52:32 190638 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:52:32 190638 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:52:36 194318 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:52:36 194318 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:52:36 194318 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [3306cabf] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:52:36 194319 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:52:36 194321 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:52:36 194323 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:52:36 194323 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:52:36 194323 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:52:36 194549 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:52:36 GMT]
2020-09-16 13:52:36 194550 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:52:36 194551 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:52:36 194551 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:52:36 194553 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:52:36 194553 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:52:36 194553 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:52:36 194554 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:53:00 218350 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: rewrite_empty_response
2020-09-16 13:53:00 218350 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/] to Route{id='rewrite_empty_response', uri=lb://application, order=0, predicate=Paths: [/], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-TestHeader = 'rewrite_empty_response'], order = 0], [ModifyResponseBody New content type = [null], In class = String, Out class = String]], metadata={}}
2020-09-16 13:53:00 218350 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [76075dff] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:53:00 218350 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [ModifyResponseBody New content type = [null], In class = String, Out class = String], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-TestHeader = 'rewrite_empty_response'], order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:53:00 218362 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:53:00 218362 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/, method=DELETE}
2020-09-16 13:53:00 218363 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:53:00 218363 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:53:00 218488 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json, Transfer-Encoding=chunked, Date=Wed, 16 Sep 2020 05:53:00 GMT]
2020-09-16 13:53:00 218488 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:53:00 218520 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:53:00 218521 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:53:00 218528 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:53:00 218528 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:53:00 218528 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:53:00 218528 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:53:05 223085 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 13:53:05 223085 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 13:53:05 223085 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [32a250f9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7188d40
2020-09-16 13:53:05 223085 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6054ac20}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@a6204e4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@38a52072}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@45017263}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@29eaf100}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5dac6bc3}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@32a074ed}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@68f75a35}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6c1a6db1}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@50e0b472}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@673605ef}, order = 2147483647]]
2020-09-16 13:53:05 223088 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 13:53:05 223088 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 13:53:05 223088 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 13:53:05 223089 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 13:53:05 223532 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 05:53:05 GMT]
2020-09-16 13:53:05 223532 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 13:53:05 223534 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 13:53:05 223535 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 13:53:05 223537 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 13:53:05 223537 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 13:53:05 223537 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 13:53:05 223537 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 13:54:05 283566 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xfa173c1e, L:/192.168.50.124:53196 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xfa173c1e, L:/192.168.50.124:53196 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 14:57:17 12202 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 14:57:18 12784 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 14:57:18 12801 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 14:57:20 15211 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 14:57:21 15414 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 14:57:21 15414 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@346a2799
2020-09-16 14:57:25 20146 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20164 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20174 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20175 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20176 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20177 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20179 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20197 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20203 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20206 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20207 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20209 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20212 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20214 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20216 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20218 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20219 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20219 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20220 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20222 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20223 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20226 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20227 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20228 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20229 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20230 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20231 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20232 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20234 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20236 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20237 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20237 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20238 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20239 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20239 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20240 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20242 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20243 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20243 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20245 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20245 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:25 20246 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20247 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20247 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:25 20248 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:25 20248 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:25 20249 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:25 20250 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:25 20251 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:38 33103 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:38 33106 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:38 33106 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1c47719] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:38 33106 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:40 34682 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 14:57:40 34683 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:40 34684 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 14:57:40 34684 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 14:57:40 34685 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 14:57:40 34686 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 14:57:40 34686 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 14:57:40 34770 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 14:57:40 34776 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 14:57:40 34900 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 14:57:41 35713 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 14:57:41 35750 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xf5d2f92f] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 14:57:41 35762 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 14:57:41 35762 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 14:57:41 35763 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 14:57:41 35772 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 14:57:41 35773 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:41 35777 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:41 35814 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:41 35918 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:41 GMT]
2020-09-16 14:57:41 35918 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:41 35937 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:41 35942 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:41 35971 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:41 35971 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:41 35971 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:41 35975 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:43 37819 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:43 37819 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:43 37819 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6d1f21f6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:43 37819 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:43 37824 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:43 37824 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:43 37824 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:43 37825 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:43 37923 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:43 GMT]
2020-09-16 14:57:43 37924 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:43 37928 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:43 37930 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:43 37936 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:43 37937 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:43 37937 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:43 37937 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:44 38499 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:44 38499 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:44 38499 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2bde3a2b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:44 38500 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:44 38502 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:44 38503 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:44 38503 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:44 38504 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:44 38589 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:43 GMT]
2020-09-16 14:57:44 38589 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:44 38590 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:44 38591 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:44 38593 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:44 38594 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:44 38594 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:44 38594 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:44 39098 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:44 39098 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:44 39098 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4347b717] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:44 39099 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:44 39101 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:44 39101 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:44 39101 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:44 39102 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:44 39248 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:44 GMT]
2020-09-16 14:57:44 39248 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:44 39249 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:44 39249 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:44 39255 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:44 39255 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:44 39255 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:44 39256 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:45 39729 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:45 39729 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:45 39729 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [1e405b4f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:45 39729 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:45 39734 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:45 39734 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:45 39734 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:45 39735 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:45 39824 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:44 GMT]
2020-09-16 14:57:45 39824 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:45 39826 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:45 39826 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:45 39829 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:45 39829 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:45 39829 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:45 39829 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:46 40326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:46 40326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:46 40326 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [10bfaa6f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:46 40327 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:46 40331 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:46 40331 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:46 40331 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:46 40332 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:46 40453 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:46 GMT]
2020-09-16 14:57:46 40453 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:46 40454 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:46 40454 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:46 40456 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:46 40456 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:46 40456 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:46 40456 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:46 40949 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:46 40950 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:46 40950 [http-nio-8191-exec-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [64ac969] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:46 40950 [http-nio-8191-exec-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:46 40953 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:46 40953 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:46 40953 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:46 40954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:46 41038 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:46 GMT]
2020-09-16 14:57:46 41038 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:46 41039 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:46 41043 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:46 41044 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:46 41045 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:46 41045 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:46 41045 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:57:47 41490 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:57:47 41490 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:57:47 41490 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [371f9909] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:57:47 41491 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:57:47 41493 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:57:47 41493 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:57:47 41494 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:57:47 41494 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:57:47 41554 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:57:47 GMT]
2020-09-16 14:57:47 41554 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:57:47 41555 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:57:47 41555 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:57:47 41557 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:57:47 41558 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:57:47 41558 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:57:47 41558 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:58:10 65262 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 14:58:10 65262 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 14:58:10 65262 [http-nio-8191-exec-7] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7beca220] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7fc497b5
2020-09-16 14:58:10 65262 [http-nio-8191-exec-7] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@f575d2b}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@50b624da}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6f4029e9}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@770cbe5d}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e2b37cd}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6033f36c}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4d90d91f}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@7d07e04e}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2ba08f26}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@599310ab}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@c478e4e}, order = 2147483647]]
2020-09-16 14:58:10 65265 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 14:58:10 65265 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 14:58:10 65265 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 14:58:10 65266 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 14:58:11 65337 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 06:58:11 GMT]
2020-09-16 14:58:11 65337 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 14:58:11 65338 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 14:58:11 65338 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 14:58:11 65339 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 14:58:11 65340 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 14:58:11 65340 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 14:58:11 65340 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 14:59:03 117971 [http-nio-8191-exec-9] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [1cf8a291] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 14:59:03 117975 [http-nio-8191-exec-9] DEBUG o.s.w.r.resource.ResourceWebHandler - [1cf8a291] Resource not found
2020-09-16 14:59:11 125372 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xf5d2f92f, L:/192.168.50.124:61568 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xf5d2f92f, L:/192.168.50.124:61568 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 14:59:12 126853 [http-nio-8191-exec-10] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [2efe471] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 14:59:12 126855 [http-nio-8191-exec-10] DEBUG o.s.w.r.resource.ResourceWebHandler - [2efe471] Resource not found
2020-09-16 15:12:12 12998 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=localhost:8080, order=0, metadata={}}]
2020-09-16 15:12:12 13578 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 15:12:12 13595 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 15:12:15 15930 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 15:12:15 16171 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 15:12:15 16171 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@6d84ab90
2020-09-16 15:12:19 20634 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20653 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20663 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20663 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20664 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20665 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20667 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20690 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20696 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20697 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20698 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20699 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20701 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20703 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20704 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20705 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20706 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20706 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20707 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20709 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20710 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20712 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20712 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20713 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20715 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20715 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20715 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20716 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20716 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20716 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20717 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20717 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20718 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20718 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20720 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20720 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20721 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20722 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20722 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20724 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20724 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20725 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:12:20 20726 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:12:20 20727 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20728 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:12:20 20728 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:12:20 20729 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:12:20 20730 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:12:20 20731 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:13:48 109201 [http-nio-8191-exec-1] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [34390313] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:48 109205 [http-nio-8191-exec-1] DEBUG o.s.w.r.resource.ResourceWebHandler - [34390313] Resource not found
2020-09-16 15:13:50 111150 [http-nio-8191-exec-3] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [236484e7] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:50 111153 [http-nio-8191-exec-3] DEBUG o.s.w.r.resource.ResourceWebHandler - [236484e7] Resource not found
2020-09-16 15:13:51 111934 [http-nio-8191-exec-2] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [5eaa21fa] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:51 111935 [http-nio-8191-exec-2] DEBUG o.s.w.r.resource.ResourceWebHandler - [5eaa21fa] Resource not found
2020-09-16 15:13:51 112543 [http-nio-8191-exec-4] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [1c5ffb7c] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:51 112546 [http-nio-8191-exec-4] DEBUG o.s.w.r.resource.ResourceWebHandler - [1c5ffb7c] Resource not found
2020-09-16 15:13:52 113134 [http-nio-8191-exec-6] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [b6a0b68] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:52 113135 [http-nio-8191-exec-6] DEBUG o.s.w.r.resource.ResourceWebHandler - [b6a0b68] Resource not found
2020-09-16 15:13:53 113723 [http-nio-8191-exec-7] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [7ae22b31] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:53 113725 [http-nio-8191-exec-7] DEBUG o.s.w.r.resource.ResourceWebHandler - [7ae22b31] Resource not found
2020-09-16 15:13:53 114177 [http-nio-8191-exec-5] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [45e52b11] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:53 114178 [http-nio-8191-exec-5] DEBUG o.s.w.r.resource.ResourceWebHandler - [45e52b11] Resource not found
2020-09-16 15:13:59 120418 [http-nio-8191-exec-8] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - [78abb0fb] Mapped to ResourceWebHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/"]
2020-09-16 15:13:59 120419 [http-nio-8191-exec-8] DEBUG o.s.w.r.resource.ResourceWebHandler - [78abb0fb] Resource not found
2020-09-16 15:14:29 150015 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:14:29 150019 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=localhost:8080, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:14:29 150019 [http-nio-8191-exec-9] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [5f4f2019] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32e56a
2020-09-16 15:14:29 150020 [http-nio-8191-exec-9] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2728add3}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5e8698c0}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6b52a40}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5e3d84a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4fb99927}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@131b58d4}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4fce3ed7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@42c55978}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2d9df336}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@690e4b00}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@54033a65}, order = 2147483647]]
2020-09-16 15:15:54 234991 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:15:54 234991 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=localhost:8080, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:15:54 234991 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6d6a442b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32e56a
2020-09-16 15:15:54 234992 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2728add3}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5e8698c0}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6b52a40}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5e3d84a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4fb99927}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@131b58d4}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4fce3ed7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@42c55978}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2d9df336}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@690e4b00}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@54033a65}, order = 2147483647]]
2020-09-16 15:15:55 236005 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:15:55 236005 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=localhost:8080, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:15:55 236005 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2d8bc89c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32e56a
2020-09-16 15:15:55 236005 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2728add3}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5e8698c0}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6b52a40}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5e3d84a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4fb99927}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@131b58d4}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4fce3ed7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@42c55978}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2d9df336}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@690e4b00}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@54033a65}, order = 2147483647]]
2020-09-16 15:16:21 262319 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:16:21 262319 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=localhost:8080, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:16:21 262319 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [40ba4c59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32e56a
2020-09-16 15:16:21 262320 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@2728add3}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@5e8698c0}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@6b52a40}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5e3d84a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@4fb99927}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@131b58d4}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@4fce3ed7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@42c55978}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2d9df336}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@690e4b00}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@54033a65}, order = 2147483647]]
2020-09-16 15:17:06 13698 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 15:17:07 14349 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 15:17:07 14368 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 15:17:09 16904 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 15:17:10 17287 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 15:17:10 17287 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@47400608
2020-09-16 15:17:15 22036 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22056 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22065 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22065 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22067 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22069 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22071 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22093 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22097 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22099 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22100 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22101 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22102 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22104 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22107 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22108 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22109 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22109 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22110 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22111 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22111 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22116 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22117 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22119 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22119 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22119 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22120 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22121 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22121 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22121 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22122 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22123 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22123 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22124 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22124 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22124 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22125 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22126 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22126 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22127 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22129 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22130 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:15 22131 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:15 22133 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22134 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:15 22135 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:15 22136 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:15 22136 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:15 22137 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:29 36140 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:17:29 36144 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:17:29 36145 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [26b38ff7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e0e3fde
2020-09-16 15:17:29 36145 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7e7391e8}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@54ef9698}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@11ca8f71}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1eab0700}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@47c356e}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5b80b41d}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1fa44f66}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1fcfcf37}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@66e218d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3ebc6d8b}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4229b92c}, order = 2147483647]]
2020-09-16 15:17:30 37820 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:17:30 37821 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:30 37823 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:17:30 37823 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:17:30 37825 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:17:30 37827 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:17:30 37828 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:17:30 37945 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 15:17:30 37952 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 15:17:31 38072 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 15:17:31 38902 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 15:17:31 38934 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xc5d0d35c] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 15:17:31 38945 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 15:17:31 38945 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 15:17:31 38945 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 15:17:31 38954 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 15:17:31 38955 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:17:31 38958 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:17:32 38988 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:17:33 40146 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:17:33 GMT]
2020-09-16 15:17:33 40147 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:17:33 40168 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:17:33 40173 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:17:33 40202 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:17:33 40202 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:17:33 40202 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:17:33 40204 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:17:35 42625 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:17:35 42625 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:17:35 42626 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6acc1c36] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e0e3fde
2020-09-16 15:17:35 42626 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7e7391e8}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@54ef9698}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@11ca8f71}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1eab0700}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@47c356e}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5b80b41d}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1fa44f66}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1fcfcf37}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@66e218d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3ebc6d8b}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4229b92c}, order = 2147483647]]
2020-09-16 15:17:35 42632 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:17:35 42632 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:17:35 42633 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:17:35 42635 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:17:36 43082 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:17:36 GMT]
2020-09-16 15:17:36 43082 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:17:36 43084 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:17:36 43084 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:17:36 43087 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:17:36 43087 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:17:36 43088 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:17:36 43088 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:17:42 49291 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:17:42 49292 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:17:42 49292 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [4d53f2df] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e0e3fde
2020-09-16 15:17:42 49292 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7e7391e8}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@54ef9698}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@11ca8f71}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1eab0700}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@47c356e}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5b80b41d}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1fa44f66}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1fcfcf37}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@66e218d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3ebc6d8b}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4229b92c}, order = 2147483647]]
2020-09-16 15:17:42 49294 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:17:42 49295 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:17:42 49295 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:17:42 49297 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:17:43 50907 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:17:43 GMT]
2020-09-16 15:17:43 50907 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:17:43 50908 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:17:43 50909 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:17:43 50910 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:17:43 50910 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:17:43 50910 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:17:43 50911 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:18:12 79675 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:18:12 79675 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:18:12 79675 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [15af140e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@6e0e3fde
2020-09-16 15:18:12 79676 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@7e7391e8}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@54ef9698}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@11ca8f71}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@1eab0700}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@47c356e}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@5b80b41d}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1fa44f66}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@1fcfcf37}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@66e218d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3ebc6d8b}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4229b92c}, order = 2147483647]]
2020-09-16 15:18:12 79679 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:18:12 79679 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:18:12 79679 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:18:12 79680 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:18:13 80041 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:18:13 GMT]
2020-09-16 15:18:13 80042 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:18:13 80043 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:18:13 80043 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:18:13 80049 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:18:13 80049 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:18:13 80049 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:18:13 80050 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:19:13 140076 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0xc5d0d35c, L:/192.168.50.124:58299 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xc5d0d35c, L:/192.168.50.124:58299 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 15:22:49 12829 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 15:22:50 13417 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 15:22:50 13432 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 15:22:52 15848 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 15:22:53 16055 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 15:22:53 16056 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@99af41d
2020-09-16 15:22:58 20979 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21001 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21010 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21010 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21012 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21013 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21015 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21033 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21036 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21039 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21039 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21040 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21041 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21043 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21044 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21045 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21046 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21046 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21049 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21050 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21051 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21055 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21058 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21059 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21059 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21062 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21063 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21064 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21065 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21067 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21069 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21070 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21068 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21070 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21071 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21071 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21072 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21073 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21073 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21074 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21075 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21076 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:22:58 21078 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21080 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:22:58 21080 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:22:58 21078 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:22:58 21081 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:22:58 21082 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:22:58 21082 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:26:01 204302 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:26:01 204308 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:26:01 204309 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7f6aed71] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:26:01 204310 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:26:03 206006 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 15:26:03 206008 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:26:03 206008 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 15:26:03 206009 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 15:26:03 206010 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 15:26:03 206012 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 15:26:03 206013 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 15:26:03 206116 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 15:26:03 206125 [http-nio-8191-exec-1] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 15:26:03 206273 [http-nio-8191-exec-1] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 15:26:04 207220 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 15:26:04 207262 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x8e809163] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 15:26:04 207276 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 15:26:04 207277 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 15:26:04 207277 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 15:26:04 207291 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 15:26:04 207293 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:26:04 207296 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:26:04 207344 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:26:04 207651 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:26:04 GMT]
2020-09-16 15:26:04 207651 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:26:04 207670 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:26:04 207676 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:26:04 207738 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:26:04 207739 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:26:04 207739 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:26:04 207741 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:26:05 208841 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:26:05 208841 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:26:05 208841 [http-nio-8191-exec-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [348df1d1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:26:05 208842 [http-nio-8191-exec-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:26:05 208845 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:26:05 208846 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:26:05 208846 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:26:05 208848 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:26:06 209155 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:26:06 GMT]
2020-09-16 15:26:06 209155 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:26:06 209157 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:26:06 209158 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:26:06 209159 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:26:06 209160 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:26:06 209160 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:26:06 209161 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:26:16 219192 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:26:16 219192 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:26:16 219193 [http-nio-8191-exec-5] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [69daf65e] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:26:16 219193 [http-nio-8191-exec-5] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:26:16 219204 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:26:16 219204 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:26:16 219205 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:26:16 219206 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:26:19 222262 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:26:19 GMT]
2020-09-16 15:26:19 222262 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:26:19 222263 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:26:19 222263 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:26:19 222265 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:26:19 222265 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:26:19 222266 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:26:19 222266 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:27:19 282300 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x8e809163, L:/192.168.50.124:63373 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x8e809163, L:/192.168.50.124:63373 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 15:27:22 285205 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:27:22 285205 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:27:22 285205 [http-nio-8191-exec-8] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [2cc1ec1c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:27:22 285205 [http-nio-8191-exec-8] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:27:22 285214 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 15:27:22 285214 [reactor-http-nio-2] DEBUG r.netty.channel.BootstrapHandlers - [id: 0xe82f612e] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 15:27:22 285216 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 15:27:22 285217 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 15:27:22 285217 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 15:27:22 285217 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 15:27:22 285217 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:27:22 285217 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:27:22 285219 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:27:22 285394 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:27:22 GMT]
2020-09-16 15:27:22 285394 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:27:22 285406 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:27:22 285407 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:27:22 285410 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:27:22 285410 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:27:22 285410 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:27:22 285411 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:27:23 286689 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:27:23 286689 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:27:23 286690 [http-nio-8191-exec-10] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [831bd89] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:27:23 286690 [http-nio-8191-exec-10] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:27:23 286694 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:27:23 286694 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:27:23 286695 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:27:23 286696 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:27:23 286865 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:27:23 GMT]
2020-09-16 15:27:23 286865 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:27:23 286868 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:27:23 286869 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:27:23 286875 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:27:23 286875 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:27:23 286875 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:27:23 286875 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:27:24 287436 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 15:27:24 287436 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 15:27:24 287436 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [19f75afb] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46d94e3d
2020-09-16 15:27:24 287436 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3ac326c0}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@46c2189e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@14d36bb2}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@61648dd2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e4d93f7}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@9f52eb7}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5e5d40ec}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@6be1f37f}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@3d1b43d8}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@69ed96e1}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5b028f58}, order = 2147483647]]
2020-09-16 15:27:24 287439 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel acquired, now 1 active connections and 0 inactive connections
2020-09-16 15:27:24 287440 [reactor-http-nio-2] DEBUG r.n.http.client.HttpClientConnect - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 15:27:24 287440 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 15:27:24 287440 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 15:27:24 287610 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Vary=Origin, Vary=Access-Control-Request-Method, Vary=Access-Control-Request-Headers, X-Content-Type-Options=nosniff, X-XSS-Protection=1; mode=block, Cache-Control=no-cache, no-store, max-age=0, must-revalidate, Pragma=no-cache, Expires=0, Content-Type=application/json;charset=ISO-8859-1, Content-Length=114, Date=Wed, 16 Sep 2020 07:27:23 GMT]
2020-09-16 15:27:24 287610 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 15:27:24 287612 [reactor-http-nio-2] DEBUG reactor.netty.channel.FluxReceive - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 15:27:24 287613 [reactor-http-nio-2] DEBUG r.n.h.client.HttpClientOperations - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 15:27:24 287615 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 15:27:24 287615 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 15:27:24 287615 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Releasing channel
2020-09-16 15:27:24 287615 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 - R:host.docker.internal/192.168.50.124:8080] Channel cleaned, now 0 active connections and 1 inactive connections
2020-09-16 15:28:24 347646 [reactor-http-nio-2] DEBUG r.n.r.PooledConnectionProvider - [id: 0xe82f612e, L:/192.168.50.124:64221 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0xe82f612e, L:/192.168.50.124:64221 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
2020-09-16 17:57:33 11318 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 17:57:33 11842 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 17:57:33 11855 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 17:57:36 14035 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 17:57:36 14221 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 17:57:36 14222 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@1d4c6e32
2020-09-16 17:57:40 18488 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18513 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18521 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18521 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18522 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18524 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18526 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18544 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18548 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18550 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18550 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18553 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18553 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18554 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18555 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18557 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18558 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18558 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18559 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18560 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18560 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18561 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18563 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18564 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18564 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18565 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18565 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18566 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18568 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18569 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18569 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18570 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18571 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18571 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18571 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18572 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18572 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18572 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18572 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18572 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 17:57:40 18573 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18573 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18574 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 17:57:40 18574 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18574 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 17:57:40 18574 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 17:57:40 18575 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 17:57:40 18576 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 17:57:40 18577 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:12 9592 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='websocket_test', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/echo}}], filters=[], uri=ws://localhost:9000, order=9000, metadata={}}, RouteDefinition{id='default_path_to_httpbin2222', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://application, order=0, metadata={}}]
2020-09-16 18:03:12 10103 [main] DEBUG o.s.w.r.f.s.s.RouterFunctionMapping - 2 RouterFunction(s) in 'routerFunctionMapping'
2020-09-16 18:03:12 10116 [main] DEBUG o.s.w.r.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2020-09-16 18:03:14 12084 [main] DEBUG o.s.w.r.r.m.a.ControllerMethodResolver - ControllerAdvice beans: none
2020-09-16 18:03:15 12287 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=6, workerCount=6}
2020-09-16 18:03:15 12287 [main] DEBUG reactor.netty.tcp.TcpResources - [http] resources will use the default ConnectionProvider: reactor.netty.resources.PooledConnectionProvider@4c114687
2020-09-16 18:03:19 16646 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16664 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16674 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16674 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16675 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16676 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16678 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:19 16695 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16698 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16700 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16700 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16702 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16703 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16704 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:19 16705 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16706 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16707 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16707 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16708 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16708 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16709 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:19 16709 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16711 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16712 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16712 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16713 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16714 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16715 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:19 16715 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16716 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16717 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:19 16717 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16717 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16718 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16718 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16719 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:19 16719 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16719 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:19 16720 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:19 16720 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:19 16720 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:19 16721 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:03:41 38976 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 18:03:41 38980 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 18:03:41 38980 [http-nio-8191-exec-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [77a88ffa] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@57846b60
2020-09-16 18:03:41 38981 [http-nio-8191-exec-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4ec27c4c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@1eabfad5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@43778371}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@66a8751a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@257b3561}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6a878778}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@12200670}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@409395b9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78861d9e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@53e82089}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5e80d5}, order = 2147483647]]
2020-09-16 18:03:43 40256 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:03:43 40257 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:43 40257 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:03:43 40257 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:03:43 40258 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:03:43 40259 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:03:43 40259 [http-nio-8191-exec-1] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:04:39 96365 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:04:39 96367 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:04:39 96368 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:04:39 96368 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:04:39 96370 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:04:39 96373 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:04:39 96375 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:07:07 244890 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:07:07 244892 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:07:07 244893 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:07:07 244893 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:07:07 244900 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:07:07 244901 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:07:07 244902 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:10:01 418690 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:10:01 418691 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:10:01 418692 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:10:01 418692 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:10:01 418693 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:10:01 418693 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:10:01 418694 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:14:56 714057 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:14:56 714060 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:14:56 714062 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:14:56 714063 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:14:56 714065 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:14:56 714066 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:14:56 714067 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:19:00 957315 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition websocket_test applying {_genkey_0=/echo} to Path
2020-09-16 18:19:00 957316 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:19:00 957317 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: websocket_test
2020-09-16 18:19:00 957317 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying {_genkey_0=/api/**} to Path
2020-09-16 18:19:00 957318 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition defaultFilters applying filter {_genkey_0=X-Response-Default-Foo, _genkey_1=Default-Bar} to AddResponseHeader
2020-09-16 18:19:00 957319 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition default_path_to_httpbin2222 applying filter {_genkey_0=/httpbin/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2020-09-16 18:19:00 957320 [Curator-TreeCache-0] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: default_path_to_httpbin2222
2020-09-16 18:20:11 1028255 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: default_path_to_httpbin2222
2020-09-16 18:20:11 1028255 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://127.0.0.1:8191/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509] to Route{id='default_path_to_httpbin2222', uri=lb://application, order=0, predicate=Paths: [/api/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1]], metadata={}}
2020-09-16 18:20:11 1028255 [http-nio-8191-exec-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [60733f16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@57846b60
2020-09-16 18:20:11 1028256 [http-nio-8191-exec-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@4ec27c4c}, order = -2147483648], [GatewayFilterAdapter{delegate=com.alibaba.csp.sentinel.adapter.gateway.sc.SentinelGatewayFilter@1eabfad5}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@43778371}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@66a8751a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@257b3561}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@6a878778}, order = 0], [[AddResponseHeader X-Response-Default-Foo = 'Default-Bar'], order = 1], [[RewritePath /httpbin/(?<segment>.*) = '/${segment}'], order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@12200670}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@409395b9}, order = 10100], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@78861d9e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@53e82089}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@5e80d5}, order = 2147483647]]
2020-09-16 18:20:11 1028333 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopKQueue - Default KQueue support : false
2020-09-16 18:20:11 1028344 [http-nio-8191-exec-2] DEBUG r.netty.resources.DefaultLoopEpoll - Default Epoll support : false
2020-09-16 18:20:11 1028450 [http-nio-8191-exec-2] DEBUG r.n.r.PooledConnectionProvider - Creating a new client pool [PoolFactory {maxConnections=2147483647, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false}] for [host.docker.internal:8080]
2020-09-16 18:20:12 1029222 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f] Created a new pooled channel, now 1 active connections and 0 inactive connections
2020-09-16 18:20:12 1029281 [reactor-http-nio-1] DEBUG r.netty.channel.BootstrapHandlers - [id: 0x134a4e0f] Initialized pipeline DefaultChannelPipeline{(BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer#0 = reactor.netty.resources.PooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2020-09-16 18:20:12 1029293 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Registering pool release on close event for channel
2020-09-16 18:20:12 1029293 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Channel connected, now 1 active connections and 0 inactive connections
2020-09-16 18:20:12 1029293 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}, [connected])
2020-09-16 18:20:12 1029302 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [configured])
2020-09-16 18:20:12 1029303 [reactor-http-nio-1] DEBUG r.n.http.client.HttpClientConnect - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Handler is being applied: {uri=http://host.docker.internal:8080/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, method=DELETE}
2020-09-16 18:20:12 1029307 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [request_prepared])
2020-09-16 18:20:12 1029336 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [request_sent])
2020-09-16 18:20:15 1032229 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Received response (auto-read:false) : [Date=Wed, 16 Sep 2020 10:20:14 GMT, Content-Language=en, Content-Type=text/html;charset=utf-8, Content-Length=435, Connection=close]
2020-09-16 18:20:15 1032229 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [response_received])
2020-09-16 18:20:15 1032237 [reactor-http-nio-1] DEBUG reactor.netty.channel.FluxReceive - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Subscribing inbound receiver [pending: 0, cancelled:false, inboundDone: false]
2020-09-16 18:20:15 1032241 [reactor-http-nio-1] DEBUG r.n.h.client.HttpClientOperations - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] Received last HTTP packet
2020-09-16 18:20:15 1032244 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [response_completed])
2020-09-16 18:20:15 1032244 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080] onStateChange(DELETE{uri=/api/device/e91b12b0-f281-11ea-b41d-8f6d66ffb509, connection=PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 - R:host.docker.internal/192.168.50.124:8080]}}, [disconnecting])
2020-09-16 18:20:15 1032246 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 ! R:host.docker.internal/192.168.50.124:8080] Channel closed, now 0 active connections and 0 inactive connections
2020-09-16 18:20:15 1032247 [reactor-http-nio-1] DEBUG r.n.r.PooledConnectionProvider - [id: 0x134a4e0f, L:/192.168.50.124:52119 ! R:host.docker.internal/192.168.50.124:8080] onStateChange(PooledConnection{channel=[id: 0x134a4e0f, L:/192.168.50.124:52119 ! R:host.docker.internal/192.168.50.124:8080]}, [disconnecting])
